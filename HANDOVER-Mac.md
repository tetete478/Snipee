# Snipee HANDOVER â€” Mac (Swift)

**æœ€çµ‚æ›´æ–°**: 2026-02-27

---

## ğŸš© ç¾åœ¨åœ°

- ã‚¯ãƒ©ã‚¦ãƒ‰åŒæœŸ Phase 3 å®Œäº†ï¼ˆMacç‰ˆãƒ»iOSç‰ˆ PersonalSyncService.swift å®Ÿè£…æ¸ˆã¿ï¼‰
- 2/10 ã‚µã‚¤ãƒ‰ãƒãƒ¼UIå¤§å¹…æ”¹å–„ï¼ˆã€Œ...ã€ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã€NSViewRepresentableåŒ–ã€è‡ªå‹•ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ï¼‰
- 2/15 MVPåŒ–ï¼šä»–éƒ¨ç½²ãƒã‚¹ã‚¿å‚ç…§ã‚’å‰Šé™¤ï¼ˆå°†æ¥å¾©æ´»ç”¨ã‚³ãƒ¼ãƒ‰ã‚»ãƒƒãƒˆã¯æœ¬ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæœ«å°¾ã«ä¿å­˜ï¼‰
- 2/16 ã‚µã‚¤ãƒ‰ãƒãƒ¼ãƒªãƒãƒ¼ãƒ ä¿®æ­£ï¼ˆSwiftUI TextField â†’ InlineTextField: NSViewRepresentableï¼‰
- 2/16 å³ã‚¯ãƒªãƒƒã‚¯ãƒ¡ãƒ‹ãƒ¥ãƒ¼å¾©æ´»ï¼ˆ.contextMenuï¼‰
- 2/19 ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ©Ÿèƒ½å®Œæˆï¼ˆDownloadsç›´æ¥ä¿å­˜ã€Snipeeå½¢å¼/Clipyå½¢å¼å¯¾å¿œï¼‰
- 2/19 VSCode SourceKit-LSP ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å®Œäº†ï¼ˆxcode-build-server configæ¸ˆã¿ï¼‰
- 2/27 FolderSidebar ãƒã‚°ä¿®æ­£ãƒ»UXæ”¹å–„ï¼ˆè©³ç´°ã¯å¤‰æ›´å±¥æ­´å‚ç…§ï¼‰
- 2/27 v2.0.5 ãƒªãƒªãƒ¼ã‚¹å®Œäº†

---

## é€²ã‚æ–¹ã®æ–¹é‡

- ã‚³ãƒ¼ãƒ‰ã¯ã™ãã«æ›¸ãæ›ãˆãªã„ â†’ ã¾ãšæ”¹å–„æ¡ˆã‚’å‡ºã—ã¦è¨±å¯ã‚’ã‚‚ã‚‰ã†
- ä¿®æ­£ç®‡æ‰€ãŒå°‘ãªã‘ã‚Œã°ä¿®æ­£å‰/ä¿®æ­£å¾Œã®ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ã§æŒ‡ç¤º
- å®Œå…¨ãªã‚³ãƒ¼ãƒ‰ç”Ÿæˆå¾Œã¯è‡ªèº«ã§æ¤œè¨¼ã‚¹ãƒ†ãƒƒãƒ—ã‚’å…¥ã‚Œã‚‹
- str_replaceæ–¹å¼ã§å·®åˆ†ä¿®æ­£ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«å…¨ä½“æ›¸ãæ›ãˆã¯é¿ã‘ã‚‹ï¼‰

---

## ğŸ“‹ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

Snipeeã¯ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰å±¥æ­´ã¨ã‚¹ãƒ‹ãƒšãƒƒãƒˆç®¡ç†ãƒ„ãƒ¼ãƒ«ã€‚ãƒãƒ¼ãƒ ã§å…±æœ‰ã§ãã‚‹ãƒã‚¹ã‚¿ã‚¹ãƒ‹ãƒšãƒƒãƒˆã¨å€‹äººç”¨ã‚¹ãƒ‹ãƒšãƒƒãƒˆã‚’ä½¿ã„åˆ†ã‘ã‚‰ã‚Œã‚‹ã€‚

- **Macç‰ˆ**: Swift/SwiftUIï¼ˆSnipeeMacï¼‰â€” ãƒ¡ã‚¤ãƒ³é–‹ç™ºãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ï¼ˆæœ¬ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å¯¾è±¡ï¼‰
- **Windowsç‰ˆ**: Electron
- **iOSç‰ˆ**: Swift/SwiftUIï¼ˆSnipeeIOSï¼‰+ ã‚«ã‚¹ã‚¿ãƒ ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰

---

## âš ï¸ çµ¶å¯¾ã‚„ã£ã¦ã¯ã„ã‘ãªã„ã“ã¨

### 2. âŒ åŒæœŸå‡¦ç†ã§é‡ã„æ“ä½œ

**å¤±æ•—**: èµ·å‹•æ™‚ã«Google DriveåŒæœŸã‚’åŒæœŸå®Ÿè¡Œ â†’ èµ·å‹•ã«1åˆ†
**è§£æ±º**: ãƒ›ãƒƒãƒˆã‚­ãƒ¼ç™»éŒ²ã‚’æœ€å„ªå…ˆã€åŒæœŸã¯éåŒæœŸ

### 3. âŒ ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ›ãƒƒãƒˆã‚­ãƒ¼ã§ç«¶åˆ

**è§£æ±º**: ä¿®é£¾ã‚­ãƒ¼2ã¤ä»¥ä¸Šä½¿ã†ï¼ˆCmd+Ctrl+Cç­‰ï¼‰

### 5. âŒ Swift 6 Strict Concurrency ã‚’æœ‰åŠ¹ã«ã™ã‚‹

**å¤±æ•—**: Codableæ§‹é€ ä½“ã§nonisolatedã‚¨ãƒ©ãƒ¼å¤šç™º
**è§£æ±º**: Swift 5 + Minimalè¨­å®šã‚’ç¶­æŒ

### 6. âŒ Google Drive APIã§å…±æœ‰ãƒ‰ãƒ©ã‚¤ãƒ–ã‚’å¿˜ã‚Œã‚‹

**å¤±æ•—**: 404ã‚¨ãƒ©ãƒ¼ã§ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å¤±æ•—
**è§£æ±º**: `supportsAllDrives=true` ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’è¿½åŠ 

### 7. âŒ appcast XMLã‚’ãƒ“ãƒ«ãƒ‰å‰ã«æ›´æ–°

**å¤±æ•—**: DMGãŒå­˜åœ¨ã—ãªã„çŠ¶æ…‹ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰è©¦è¡Œ
**è§£æ±º**: ãƒ“ãƒ«ãƒ‰å®Œäº†å¾Œã«XMLã‚’æ›´æ–°

### 8. âŒ App Sandboxã‚’æœ‰åŠ¹ã«ã—ãŸã¾ã¾Sparkleä½¿ç”¨

**å¤±æ•—**: è‡ªå‹•ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ™‚ã«æ¨©é™ã‚¨ãƒ©ãƒ¼ï¼ˆ-60005ï¼‰
**è§£æ±º**: App Sandboxã‚’å‰Šé™¤ï¼ˆSigning & Capabilitiesï¼‰

### 9. âŒ SwiftUIã§@Stateå¤‰æ•°ã«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦å‚ç…§ã‚’ä¿æŒã—ãªã„

**å¤±æ•—**: NSWindowãŒã™ãã«è§£æ”¾ã•ã‚Œã¦ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãŒè¡¨ç¤ºã•ã‚Œãªã„
**è§£æ±º**: @State private var welcomeWindow: NSWindow? ã§ä¿æŒ

### 10. âŒ SwiftUIã®bodyã«.onChange()ã‚’å¤§é‡ã«ã¤ã‘ãªã„

**å¤±æ•—**: ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãŒå‹ãƒã‚§ãƒƒã‚¯ã§ããªã„ï¼ˆreasonable time ã‚¨ãƒ©ãƒ¼ï¼‰
**è§£æ±º**: ViewModifierã«åˆ†é›¢ã™ã‚‹ã‹ã€é–¢æ•°ã«åˆ‡ã‚Šå‡ºã™

### 11. âŒ SwiftUI ScrollView + LazyVStack + ScrollViewReader ã®çµ„ã¿åˆã‚ã›

**å¤±æ•—**: `scrollTo` ãŒé…å»¶èª­ã¿è¾¼ã¿ã‚’ãƒˆãƒªã‚¬ãƒ¼ â†’ å†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚° â†’ ç„¡é™ãƒ«ãƒ¼ãƒ—
**è§£æ±º**: `LazyVStack` â†’ `VStack` ã«å¤‰æ›´ï¼ˆã‚¹ãƒ‹ãƒšãƒƒãƒˆæ•°ãŒæ•°ç™¾ãƒ¬ãƒ™ãƒ«ãªã‚‰å•é¡Œãªã—ï¼‰

### 12. âŒ SwiftUI ã® .popover / Menu ãƒ“ãƒ¥ãƒ¼ã‚’ãƒªã‚¹ãƒˆå…¨è¡Œã«é…ç½®ã—ãªã„

**å¤±æ•—**: SwiftUI `Menu` ã‚’å…¨è¡Œã«å¸¸æ™‚é…ç½® â†’ ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ä¸èƒ½ã«ãªã‚‹ãƒ¬ãƒ™ãƒ«ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åŠ£åŒ–
**è§£æ±º**: `NSViewRepresentable` + `NSButton` + `NSMenu` ã«ç½®æ›ã€‚SwiftUIã®ã‚¤ãƒ™ãƒ³ãƒˆãƒã‚§ãƒ¼ãƒ³ã‚’çµŒç”±ã—ãªã„ã®ã§é«˜é€Ÿã‹ã¤ä½ç½®æ­£ç¢º

### 13. âŒ SwiftUI ã® .onKeyPress ã‚’ ScrollView ã«ç›´æ¥ä½¿ã‚ãªã„

**å¤±æ•—**: `ScrollView` + `.focusable()` + `.onKeyPress` ã§ã¯ã‚­ãƒ¼ã‚¤ãƒ™ãƒ³ãƒˆãŒç™ºç«ã—ãªã„
**è§£æ±º**: `NSEvent.addLocalMonitorForEvents` ã§ã‚­ãƒ¼ã‚¤ãƒ™ãƒ³ãƒˆã‚’ã‚­ãƒ£ãƒƒãƒã™ã‚‹æ–¹å¼ã«åˆ‡ã‚Šæ›¿ãˆã‚‹ï¼ˆSidebarKeyboardMonitorå®Ÿè£…äºˆå®šï¼‰

### 14. âŒ SwiftUI TextField(.plain) + .onSubmit ã‚’macOSã§ä½¿ã‚ãªã„

**å¤±æ•—**: `.textFieldStyle(.plain)` + `.onSubmit` ã¯macOS SwiftUIã®æ—¢çŸ¥ãƒã‚°ã§Enterã‚­ãƒ¼ãŒç™ºç«ã—ãªã„
**è©¦è¡ŒéŒ¯èª¤**: `.onChange(of:)` ã§æ”¹è¡Œæ–‡å­—æ¤œå‡º â†’ å‹•ä½œä¸å®‰å®š
**è§£æ±º**: `NSViewRepresentable` + `NSTextField` ã§ãƒ©ãƒƒãƒ—ï¼ˆInlineTextFieldï¼‰ã€‚`NSTextFieldDelegate` ã® `control(_:textView:doCommandBy:)` ã§ `insertNewline:` / `cancelOperation:` ã‚’æ•æ‰

### 15. âŒ NSViewRepresentable ã®overlayã§ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆã‚’å‡¦ç†ã—ãªã„

**å¤±æ•—**: `RowClickHandler: NSViewRepresentable` ã‚’SwiftUIè¡Œã® `.overlay()` ã§å…¨è¡Œã«é…ç½® â†’ `makeNSView` ä¸­ã«ã‚¯ãƒ©ãƒƒã‚·ãƒ¥ï¼ˆThread 1ã§åœæ­¢ï¼‰ã€‚SnippetEditorãŒé–‹ã‹ãªããªã‚‹
**åŸå› **: NSViewã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã¨SwiftUIã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚µã‚¤ã‚¯ãƒ«ã®ç«¶åˆã€‚å¤§é‡ã®NSViewã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒåŒæ™‚ç”Ÿæˆã•ã‚Œã‚‹
**è§£æ±º**: å·¦ã‚¯ãƒªãƒƒã‚¯ã¯ `.onTapGesture`ã€å³ã‚¯ãƒªãƒƒã‚¯ã¯ `.contextMenu`ã€ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒœã‚¿ãƒ³ã¯ `EllipsisMenuButton: NSViewRepresentable` ã«åˆ†é›¢ã€‚NSViewRepresentableã¯æœ€å°é™ã®ç”¨é€”ã«é™å®šã™ã‚‹

---

## ğŸ“Š æ©Ÿèƒ½å¯¾å¿œè¡¨

| æ©Ÿèƒ½                         | Windows (Electron) | Mac (Swift) | iOS (Swift) |
| ---------------------------- | :----------------: | :---------: | :---------: |
| ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰å±¥æ­´           |         âœ…         |     âœ…      |     âŒ      |
| å±¥æ­´ãƒ”ãƒ³ç•™ã‚                 |         âœ…         |     âœ…      |     âŒ      |
| å±¥æ­´ãƒ•ã‚©ãƒ«ãƒ€åˆ†ã‘è¡¨ç¤º         |         âœ…         |     âœ…      |     âŒ      |
| ã‚¹ãƒ‹ãƒšãƒƒãƒˆè¡¨ç¤º               |         âœ…         |     âœ…      |     âœ…      |
| ã‚¹ãƒ‹ãƒšãƒƒãƒˆç·¨é›†               |         âœ…         |     âœ…      |     âŒ      |
| ãƒ•ã‚©ãƒ«ãƒ€ç®¡ç†                 |         âœ…         |     âœ…      |     âœ…      |
| ãƒ›ãƒƒãƒˆã‚­ãƒ¼èµ·å‹•               |         âœ…         |     âœ…      |     âŒ      |
| ãƒ›ãƒƒãƒˆã‚­ãƒ¼ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º       |         âœ…         |     âœ…      |     âŒ      |
| è‡ªå‹•ãƒšãƒ¼ã‚¹ãƒˆ                 |         âœ…         |     âœ…      |     âŒ      |
| ã‚«ã‚¹ã‚¿ãƒ ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰           |         âŒ         |     âŒ      |     âœ…      |
| Google OAuthï¼ˆPKCEï¼‰         |         âœ…         |     âœ…      |     âœ…      |
| ãƒ¡ãƒ³ãƒãƒ¼èªè¨¼ï¼ˆã‚¹ãƒ—ã‚·ï¼‰       |         âœ…         |     âœ…      |     âœ…      |
| ãƒã‚¹ã‚¿åŒæœŸ                   |         âœ…         |     âœ…      |     âœ…      |
| ãƒã‚¹ã‚¿ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰           |         âœ…         |     âœ…      |     âŒ      |
| ä»–éƒ¨ç½²ãƒã‚¹ã‚¿å‚ç…§             |         âœ…         |     ğŸ”’      |     âŒ      |
| è‡ªå‹•ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ             |         âœ…         |     âœ…      |     âœ…      |
| æ—¥æ¬¡è‡ªå‹•ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆãƒã‚§ãƒƒã‚¯ |         âœ…         |     âœ…      |     âŒ      |
| XMLã‚¤ãƒ³ãƒãƒ¼ãƒˆ/ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ   |         âœ…         |     âœ…      |     âŒ      |
| ç®¡ç†è€…æ©Ÿèƒ½                   |         âœ…         |     âœ…      |     âŒ      |
| ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°             |         âœ…         |     âœ…      |     âœ…      |
| ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°å†…ãƒ­ã‚°ã‚¤ãƒ³   |         âœ…         |     âœ…      |     âœ…      |
| ãƒ†ãƒ¼ãƒåˆ‡ã‚Šæ›¿ãˆ               |         âœ…         |     âœ…      |     âŒ      |
| ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãƒ‰ãƒ©ãƒƒã‚°           |         âœ…         |     âœ…      |     âŒ      |
| ã‚«ãƒ¼ã‚½ãƒ«ãƒ«ãƒ¼ãƒ—               |         âœ…         |     âœ…      |     âŒ      |
| ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°               |         âœ…         |     âœ…      |     âœ…      |
| è‡ªå‹•ä¿å­˜                     |         âœ…         |     âœ…      |     âŒ      |
| å¤‰æ•°ç½®æ›ï¼ˆ16ç¨®ï¼‰             |         âœ…         |     âœ…      |     âœ…      |
| ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å ±å‘Š       |         âœ…         |     âœ…      |     âŒ      |
| å±¥æ­´æœ€å¤§ä»¶æ•°è¨­å®š             |         âœ…         |     âœ…      |     âŒ      |
| ãƒ‰ãƒ¡ã‚¤ãƒ³åˆ¶é™ï¼ˆhdï¼‰           |         âœ…         |     âœ…      |     âŒ      |

---

## ğŸ–¥ï¸ Macç‰ˆ è©³ç´°æ©Ÿèƒ½

### ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ï¼ˆWelcomeViewï¼‰

- **5ã‚¹ãƒ†ãƒƒãƒ—æ§‹æˆ**:
  1. ã‚ˆã†ã“ãï¼ˆæ©Ÿèƒ½ç´¹ä»‹ï¼‰
  2. Googleãƒ­ã‚°ã‚¤ãƒ³ï¼ˆå¿…é ˆãƒ»ã‚¹ã‚­ãƒƒãƒ—ä¸å¯ï¼‰
  3. ãŠåå‰å…¥åŠ›
  4. ãƒ›ãƒƒãƒˆã‚­ãƒ¼èª¬æ˜
  5. æº–å‚™å®Œäº†
- **ãƒ­ã‚°ã‚¤ãƒ³å¿…é ˆ**: ãƒ­ã‚°ã‚¤ãƒ³ã—ãªã„ã¨æ¬¡ã¸é€²ã‚ãªã„
- **ãƒ¡ãƒ³ãƒãƒ¼èªè¨¼**: ã‚¹ãƒ—ã‚·ã®ãƒ¡ãƒ³ãƒãƒ¼ãƒªã‚¹ãƒˆã§ç¢ºèª
- **ã‚ªãƒ¬ãƒ³ã‚¸ãƒ†ãƒ¼ãƒ**: å…¨ä½“çš„ã«ã‚ªãƒ¬ãƒ³ã‚¸è‰²ã§çµ±ä¸€
- **ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œ**: Enter=æ¬¡ã¸ã€â†â†’=ã‚¹ãƒ†ãƒƒãƒ—ç§»å‹•
- **è¨­å®šã‹ã‚‰å†è¡¨ç¤ºå¯èƒ½**: ä¸€èˆ¬ã‚¿ãƒ–ã€Œã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚’å†è¡¨ç¤ºã€

### è‡ªå‹•ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆï¼ˆSparkleï¼‰

- **Sparkle 2.xä½¿ç”¨**
- **æ—¥æ¬¡è‡ªå‹•ãƒã‚§ãƒƒã‚¯**: 1æ—¥1å›ã€åˆå›èµ·å‹•æ™‚ã«è‡ªå‹•ç¢ºèª
- **ãƒ­ã‚°ã‚¤ãƒ³å¾Œã«é–‹å§‹**: æœªãƒ­ã‚°ã‚¤ãƒ³çŠ¶æ…‹ã§ã¯Sparkleæœªèµ·å‹•
- **æ‰‹å‹•ãƒã‚§ãƒƒã‚¯**: è¨­å®š > ä¸€èˆ¬ > ã€Œã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚’ç¢ºèªã€
- **appcast URL**: `https://tetete478.github.io/Snipee/appcast-mac.xml`
- **DMGå½¢å¼**: ç½²åæ¸ˆã¿ã€ãƒãƒ¼ã‚¿ãƒªã‚¼ãƒ¼ã‚·ãƒ§ãƒ³æ¸ˆã¿

### ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰å±¥æ­´

- **è‡ªå‹•ç›£è¦–**: ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§å¸¸æ™‚ç›£è¦–
- **æœ€å¤§ä»¶æ•°**: è¨­å®šã§å¤‰æ›´å¯èƒ½ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ100ä»¶ï¼‰
- **ãƒ”ãƒ³ç•™ã‚**: é‡è¦ãªå±¥æ­´ã‚’å›ºå®š
- **å‰Šé™¤**: å€‹åˆ¥å‰Šé™¤ã€å…¨å‰Šé™¤ï¼ˆãƒ”ãƒ³ç•™ã‚ä»¥å¤–ï¼‰

### ã‚¹ãƒ‹ãƒšãƒƒãƒˆç®¡ç†

- **ãƒã‚¹ã‚¿ã‚¹ãƒ‹ãƒšãƒƒãƒˆ**: Google Driveã‹ã‚‰åŒæœŸï¼ˆèª­ã¿å–ã‚Šå°‚ç”¨ï¼‰
- **å€‹äººã‚¹ãƒ‹ãƒšãƒƒãƒˆ**: ãƒ­ãƒ¼ã‚«ãƒ«ä¿å­˜ã€è‡ªç”±ã«ç·¨é›†å¯èƒ½
- **ãƒ•ã‚©ãƒ«ãƒ€ç®¡ç†**: ä½œæˆã€åå‰å¤‰æ›´ã€å‰Šé™¤ã€ä¸¦ã³æ›¿ãˆ
- **è‡ªå‹•ä¿å­˜**: ç·¨é›†å¾Œ0.3ç§’ã§è‡ªå‹•ä¿å­˜
- **ä¿å­˜ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼**: ã€Œä¿å­˜ä¸­...ã€â†’ã€Œä¿å­˜å®Œäº†ã€è¡¨ç¤º

### å¤‰æ•°ç½®æ›

- `{åå‰}`: ãƒ¦ãƒ¼ã‚¶ãƒ¼å
- `{ä»Šæ—¥}`: ä»Šæ—¥ã®æ—¥ä»˜
- `{æ˜æ—¥}`: æ˜æ—¥ã®æ—¥ä»˜
- `{æ™‚åˆ»}`: ç¾åœ¨æ™‚åˆ»
- `{ã‚«ãƒ¼ã‚½ãƒ«}`: ãƒšãƒ¼ã‚¹ãƒˆå¾Œã®ã‚«ãƒ¼ã‚½ãƒ«ä½ç½®

### ãƒ›ãƒƒãƒˆã‚­ãƒ¼

- **ãƒ¡ã‚¤ãƒ³ï¼ˆCmd+Ctrl+Cï¼‰**: å±¥æ­´+ã‚¹ãƒ‹ãƒšãƒƒãƒˆä¸€è¦§
- **ã‚¹ãƒ‹ãƒšãƒƒãƒˆï¼ˆCmd+Ctrl+Vï¼‰**: ã‚¹ãƒ‹ãƒšãƒƒãƒˆã®ã¿
- **å±¥æ­´ï¼ˆCmd+Ctrl+Xï¼‰**: å±¥æ­´ã®ã¿
- **ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½**: è¨­å®šã§å¤‰æ›´å¯èƒ½

### è‡ªå‹•ãƒšãƒ¼ã‚¹ãƒˆ

- **ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£æ¨©é™å¿…è¦**
- ã‚¹ãƒ‹ãƒšãƒƒãƒˆé¸æŠå¾Œã€è‡ªå‹•ã§ãƒšãƒ¼ã‚¹ãƒˆå®Ÿè¡Œ
- Bundle IDãƒ™ãƒ¼ã‚¹ã§ã‚¢ãƒ—ãƒªãƒ•ã‚©ãƒ¼ã‚«ã‚¹ç®¡ç†

### è¨­å®šç”»é¢

- **ä¸€èˆ¬ã‚¿ãƒ–**: ãƒ¦ãƒ¼ã‚¶ãƒ¼åã€å±¥æ­´ä»¶æ•°ã€ãƒ›ãƒƒãƒˆã‚­ãƒ¼ã€ãƒªãƒ³ã‚¯ã€ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å†è¡¨ç¤ºã€ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ
- **è¡¨ç¤ºãƒ»æ“ä½œã‚¿ãƒ–**: ãƒ•ã‚©ãƒ«ãƒ€è¡¨ç¤ºè¨­å®š
- **ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚¿ãƒ–**: ãƒ­ã‚°ã‚¤ãƒ³çŠ¶æ…‹ã€ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ
- **ãƒ˜ãƒ«ãƒ—ã‚¿ãƒ–**: ä½¿ã„æ–¹ã€FAQ

### ç®¡ç†è€…æ©Ÿèƒ½

- **æ¨©é™**: ã‚¹ãƒ—ã‚·ã§ã€Œç®¡ç†è€…ã€ã€Œæœ€é«˜ç®¡ç†è€…ã€ã«è¨­å®š
- **ãƒã‚¹ã‚¿ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰**: å€‹äººã‚¹ãƒ‹ãƒšãƒƒãƒˆã‚’Google Driveã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
- **å…±æœ‰ãƒ‰ãƒ©ã‚¤ãƒ–å¯¾å¿œ**: `supportsAllDrives=true`

### ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³

- **â†‘â†“**: ã‚¢ã‚¤ãƒ†ãƒ é¸æŠ
- **â†â†’**: ãƒ•ã‚©ãƒ«ãƒ€ç§»å‹•ï¼ˆè¨­å®šç”»é¢ã§ã¯ã‚¿ãƒ–ç§»å‹•ï¼‰
- **Enter**: é¸æŠå®Ÿè¡Œ
- **Esc**: ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’é–‰ã˜ã‚‹
- **Cmd+W**: ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’é–‰ã˜ã‚‹
- **Cmd+â†‘â†“**: ã‚¹ãƒ‹ãƒšãƒƒãƒˆã‚¨ãƒ‡ã‚£ã‚¿ã§ã‚¹ãƒ‹ãƒšãƒƒãƒˆåˆ‡ã‚Šæ›¿ãˆ
- **Tab**: ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ç§»å‹•

### ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ç®¡ç†

- **ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒãƒ¼ã‚¢ãƒ—ãƒª**: LSUIElement=true
- **å·¦ã‚¯ãƒªãƒƒã‚¯**: ãƒ¡ã‚¤ãƒ³ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—è¡¨ç¤º
- **å³ã‚¯ãƒªãƒƒã‚¯**: ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼
- **ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãƒ‰ãƒ©ãƒƒã‚°**: ãƒ˜ãƒƒãƒ€ãƒ¼éƒ¨åˆ†ã§ãƒ‰ãƒ©ãƒƒã‚°å¯èƒ½

---

## ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
SnipeeMac/SnipeeMac/SnipeeMac/
â”œâ”€â”€ App/
â”‚   â””â”€â”€ AppDelegate.swift           # ã‚¢ãƒ—ãƒªèµ·å‹•ã€ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒãƒ¼ã€SparkleåˆæœŸåŒ–ã€ãƒ›ãƒƒãƒˆã‚­ãƒ¼ç™»éŒ²
â”œâ”€â”€ Models/
â”‚   â”œâ”€â”€ AppSettings.swift           # è¨­å®šãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ï¼ˆå±¥æ­´ä»¶æ•°ã€ãƒ›ãƒƒãƒˆã‚­ãƒ¼ç­‰ï¼‰
â”‚   â”œâ”€â”€ Department.swift            # éƒ¨ç½²æƒ…å ±ãƒ¢ãƒ‡ãƒ«ï¼ˆåå‰ã€XMLãƒ•ã‚¡ã‚¤ãƒ«IDï¼‰
â”‚   â”œâ”€â”€ HistoryItem.swift           # ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰å±¥æ­´ã‚¢ã‚¤ãƒ†ãƒ ï¼ˆãƒ†ã‚­ã‚¹ãƒˆã€ãƒ”ãƒ³ç•™ã‚ï¼‰
â”‚   â”œâ”€â”€ Member.swift                # ãƒ¡ãƒ³ãƒãƒ¼æƒ…å ±ãƒ¢ãƒ‡ãƒ«ï¼ˆåå‰ã€ãƒ¡ãƒ¼ãƒ«ã€éƒ¨ç½²ã€æ¨©é™ï¼‰
â”‚   â”œâ”€â”€ Snippet.swift               # ã‚¹ãƒ‹ãƒšãƒƒãƒˆãƒ¢ãƒ‡ãƒ«ï¼ˆã‚¿ã‚¤ãƒˆãƒ«ã€å†…å®¹ã€ãƒ•ã‚©ãƒ«ãƒ€ã€ã‚¿ã‚¤ãƒ—ï¼‰
â”‚   â””â”€â”€ UserStatus.swift            # ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å ±å‘Šç”¨ãƒ¢ãƒ‡ãƒ«
â”œâ”€â”€ Services/
â”‚   â”œâ”€â”€ ClipboardService.swift      # ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ç›£è¦–ã€å±¥æ­´ç®¡ç†ã€ãƒ”ãƒ³ç•™ã‚
â”‚   â”œâ”€â”€ GoogleAuthService.swift     # OAuthèªè¨¼ã€ãƒˆãƒ¼ã‚¯ãƒ³ç®¡ç†ã€Keychainä¿å­˜
â”‚   â”œâ”€â”€ GoogleDriveService.swift    # Drive APIï¼ˆXMLãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰/ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ï¼‰
â”‚   â”œâ”€â”€ GoogleSheetsService.swift   # Sheets APIï¼ˆãƒ¡ãƒ³ãƒãƒ¼èªè¨¼ã€éƒ¨ç½²å–å¾—ï¼‰
â”‚   â”œâ”€â”€ HotkeyService.swift         # ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ›ãƒƒãƒˆã‚­ãƒ¼ç™»éŒ²ãƒ»è§£é™¤
â”‚   â”œâ”€â”€ PasteService.swift          # è‡ªå‹•ãƒšãƒ¼ã‚¹ãƒˆå®Ÿè¡Œã€ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£
â”‚   â”œâ”€â”€ SnippetImportExportService.swift  # XMLã‚¤ãƒ³ãƒãƒ¼ãƒˆ/ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆå‡¦ç†ï¼ˆæœªä½¿ç”¨ï¼‰
â”‚   â”œâ”€â”€ SnippetPromotionService.swift     # ã‚¹ãƒ‹ãƒšãƒƒãƒˆæ˜‡æ ¼/é™æ ¼å‡¦ç†ï¼ˆæœªä½¿ç”¨ï¼‰
â”‚   â”œâ”€â”€ StorageService.swift        # UserDefaultsä¿å­˜ï¼ˆè¨­å®šã€ã‚¹ãƒ‹ãƒšãƒƒãƒˆã€å±¥æ­´ï¼‰
â”‚   â”œâ”€â”€ SyncService.swift           # ãƒã‚¹ã‚¿ã‚¹ãƒ‹ãƒšãƒƒãƒˆåŒæœŸã€ãƒ¡ãƒ³ãƒãƒ¼æƒ…å ±ã‚­ãƒ£ãƒƒã‚·ãƒ¥
â”‚   â”œâ”€â”€ UserReportService.swift     # ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å ±å‘Šï¼ˆã‚¹ãƒ—ã‚·ã¸é€ä¿¡ï¼‰
â”‚   â””â”€â”€ VariableService.swift       # å¤‰æ•°ç½®æ›ï¼ˆ{åå‰}ã€{ä»Šæ—¥}ç­‰ï¼‰
â”œâ”€â”€ Theme/
â”‚   â””â”€â”€ ColorTheme.swift            # ãƒ†ãƒ¼ãƒå®šç¾©ï¼ˆSilverã€Blueã€Orangeç­‰ï¼‰
â”œâ”€â”€ Utilities/
â”‚   â”œâ”€â”€ Constants.swift             # å®šæ•°ï¼ˆAPI URLã€appcast URLç­‰ï¼‰
â”‚   â”œâ”€â”€ KeyboardNavigator.swift     # ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³è£œåŠ©
â”‚   â”œâ”€â”€ NavigationHelper.swift      # ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³è£œåŠ©é–¢æ•°
â”‚   â””â”€â”€ XMLParserHelper.swift       # XMLãƒ‘ãƒ¼ã‚¹ï¼ˆClipyå½¢å¼å¯¾å¿œï¼‰ã€ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
â”œâ”€â”€ Views/
â”‚   â”œâ”€â”€ Components/
â”‚   â”‚   â”œâ”€â”€ HotkeyField.swift       # ãƒ›ãƒƒãƒˆã‚­ãƒ¼å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
â”‚   â”‚   â”œâ”€â”€ PopupKeyboardHandler.swift  # ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—å…±é€šã‚­ãƒ¼ãƒœãƒ¼ãƒ‰å‡¦ç†
â”‚   â”‚   â”œâ”€â”€ SearchField.swift       # æ¤œç´¢ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
â”‚   â”‚   â””â”€â”€ ThemePicker.swift       # ãƒ†ãƒ¼ãƒé¸æŠUI
â”‚   â”œâ”€â”€ Editor/
â”‚   â”‚   â”œâ”€â”€ ContentPanel.swift      # ã‚¹ãƒ‹ãƒšãƒƒãƒˆç·¨é›†ãƒ‘ãƒãƒ«ï¼ˆã‚¿ã‚¤ãƒˆãƒ«ã€å†…å®¹ã€èª¬æ˜ï¼‰
â”‚   â”‚   â”œâ”€â”€ FolderSidebar.swift     # ãƒ•ã‚©ãƒ«ãƒ€/ã‚¹ãƒ‹ãƒšãƒƒãƒˆä¸€è¦§ã‚µã‚¤ãƒ‰ãƒãƒ¼
â”‚   â”‚   â”œâ”€â”€ SnippetEditorView.swift # ã‚¹ãƒ‹ãƒšãƒƒãƒˆã‚¨ãƒ‡ã‚£ã‚¿ãƒ¡ã‚¤ãƒ³ç”»é¢
â”‚   â”‚   â””â”€â”€ SnippetEditorWindow.swift   # ã‚¨ãƒ‡ã‚£ã‚¿ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ç®¡ç†
â”‚   â”œâ”€â”€ Onboarding/
â”‚   â”‚   â””â”€â”€ LoginRequiredView.swift # ãƒ­ã‚°ã‚¤ãƒ³å¿…é ˆãƒ€ã‚¤ã‚¢ãƒ­ã‚°
â”‚   â”œâ”€â”€ Popup/
â”‚   â”‚   â”œâ”€â”€ HistoryPopupView.swift  # å±¥æ­´å°‚ç”¨ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—
â”‚   â”‚   â”œâ”€â”€ MainPopupView.swift     # ãƒ¡ã‚¤ãƒ³ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ï¼ˆå±¥æ­´+ã‚¹ãƒ‹ãƒšãƒƒãƒˆï¼‰
â”‚   â”‚   â”œâ”€â”€ PopupWindowController.swift # ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦åˆ¶å¾¡
â”‚   â”‚   â”œâ”€â”€ SnippetPopupView.swift  # ã‚¹ãƒ‹ãƒšãƒƒãƒˆå°‚ç”¨ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—
â”‚   â”‚   â””â”€â”€ SubmenuView.swift       # ã‚µãƒ–ãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼ˆãƒ•ã‚©ãƒ«ãƒ€å†…ã‚¹ãƒ‹ãƒšãƒƒãƒˆä¸€è¦§ï¼‰
â”‚   â””â”€â”€ Settings/
â”‚       â”œâ”€â”€ AccountTab.swift        # ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚¿ãƒ–ï¼ˆãƒ­ã‚°ã‚¤ãƒ³çŠ¶æ…‹ã€ãƒ­ã‚°ã‚¢ã‚¦ãƒˆï¼‰
â”‚       â”œâ”€â”€ AdminTab.swift          # ç®¡ç†è€…ã‚¿ãƒ–ï¼ˆãƒã‚¹ã‚¿ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ï¼‰
â”‚       â”œâ”€â”€ DisplayTab.swift        # è¡¨ç¤ºãƒ»æ“ä½œã‚¿ãƒ–ï¼ˆãƒ†ãƒ¼ãƒè¨­å®šï¼‰
â”‚       â”œâ”€â”€ GeneralTab.swift        # ä¸€èˆ¬ã‚¿ãƒ–ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼åã€ãƒ›ãƒƒãƒˆã‚­ãƒ¼ç­‰ï¼‰
â”‚       â”œâ”€â”€ HelpTab.swift           # ãƒ˜ãƒ«ãƒ—ã‚¿ãƒ–ï¼ˆä½¿ã„æ–¹ã€FAQï¼‰
â”‚       â”œâ”€â”€ SettingsView.swift      # è¨­å®šç”»é¢ãƒ¡ã‚¤ãƒ³ï¼ˆã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆï¼‰
â”‚       â””â”€â”€ WelcomeView.swift       # ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ï¼ˆ5ã‚¹ãƒ†ãƒƒãƒ—ï¼‰
â”œâ”€â”€ ContentView.swift               # ãƒ¡ã‚¤ãƒ³ContentViewï¼ˆæœªä½¿ç”¨ï¼‰
â””â”€â”€ SnipeeMacApp.swift              # ã‚¢ãƒ—ãƒªã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
```

---

## ğŸ”§ ãƒ“ãƒ«ãƒ‰ãƒ»ãƒªãƒªãƒ¼ã‚¹

### Macç‰ˆãƒ“ãƒ«ãƒ‰

```bash
# é–‹ç™ºãƒ“ãƒ«ãƒ‰
cd ~/Desktop/Snipee/SnipeeMac/SnipeeMac
xcodebuild -scheme SnipeeMac -configuration Debug build

# ãƒªãƒªãƒ¼ã‚¹ï¼ˆGitHub Actionsï¼‰
git tag mac-v2.0.1
git push origin mac-v2.0.1
```

### appcastæ›´æ–°

ãƒ“ãƒ«ãƒ‰å®Œäº†å¾Œã€`docs/appcast-mac.xml` ã‚’æ›´æ–°:

```xml
<item>
  <title>Snipee 2.0.1</title>
  <sparkle:version>2.0.1</sparkle:version>
  <sparkle:shortVersionString>2.0.1</sparkle:shortVersionString>
  <pubDate>Sat, 01 Feb 2026 12:00:00 +0900</pubDate>
  <enclosure url="https://github.com/tetete478/Snipee/releases/download/mac-v2.0.1/Snipee-Swift-2.0.1.dmg"
             type="application/octet-stream"/>
</item>
```

---

## ğŸ”„ Macæ”¹å–„ï¼ˆæ®‹èª²é¡Œï¼‰

| # | æ©Ÿèƒ½ | ç¾çŠ¶ | é‡è¦åº¦ |
|---|------|------|--------|
| 7 | ãƒˆãƒ¼ã‚¯ãƒ³ä¿å­˜ | UserDefaultsï¼ˆå¹³æ–‡ï¼‰â†’ KeychainåŒ–ã™ã¹ã | é«˜ |
| 8 | Google Driveã‚¹ã‚³ãƒ¼ãƒ— | driveï¼ˆãƒ•ãƒ«ã‚¢ã‚¯ã‚»ã‚¹ï¼‰â†’ åˆ¶é™æ¨å¥¨ | é«˜ |
| 9 | supportsAllDrives | uploadæ™‚ã®ã¿ â†’ downloadæ™‚ã«ã‚‚è¿½åŠ  | ä¸­ |
| 10 | éƒ¨ç½²ãƒ‡ãƒ¼ã‚¿å½¢å¼ | å˜ä¸€æ–‡å­—åˆ— â†’ ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šé…åˆ—ã«ä¿®æ­£ | ä¸­ |

---

## ğŸ”„ ã‚¯ãƒ©ã‚¦ãƒ‰åŒæœŸè¨ˆç”»

### ç¾çŠ¶ï¼ˆMacã®å€‹åˆ¥ã‚¹ãƒ‹ãƒšãƒƒãƒˆä¿å­˜ï¼‰

| é …ç›® | å†…å®¹ |
|------|------|
| **ä¿å­˜å…ˆ** | UserDefaults |
| **ã‚­ãƒ¼** | `personal_snippets` |
| **å½¢å¼** | JSON (`[SnippetFolder]`) |
| **ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—** | `personal_snippets_backup`ï¼ˆ1ä¸–ä»£ï¼‰ |
| **ä¿å­˜ãƒˆãƒªã‚¬ãƒ¼** | 500msãƒ‡ãƒã‚¦ãƒ³ã‚¹è‡ªå‹•ä¿å­˜ã€åˆ‡æ›¿æ™‚å³æ™‚ä¿å­˜ |

### å…±é€šä»•æ§˜

#### ä¿å­˜å…ˆ
```
å„ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒã‚¤ãƒ‰ãƒ©ã‚¤ãƒ–/
â”œâ”€â”€ Snipee_ãƒ‡ãƒ¼ã‚¿/                    â† åŒæœŸç”¨ãƒ•ã‚©ãƒ«ãƒ€
â”‚   â””â”€â”€ personal_snippets.json       â† å€‹åˆ¥ã‚¹ãƒ‹ãƒšãƒƒãƒˆãƒ‡ãƒ¼ã‚¿
â””â”€â”€ Snipee_ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—/              â† å°†æ¥å®Ÿè£…ï¼šãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ç”¨ãƒ•ã‚©ãƒ«ãƒ€
```

**ãƒ•ã‚©ãƒ«ãƒ€ç®¡ç†æ–¹å¼**: Google Drive ã® `appDataFolder`ï¼ˆéš ã—ãƒ•ã‚©ãƒ«ãƒ€ï¼‰ã¯ä½¿ã‚ãšã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒã‚¤ãƒ‰ãƒ©ã‚¤ãƒ–ã« `Snipee_ãƒ‡ãƒ¼ã‚¿` ãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆã€‚ç†ç”±:
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ‰‹å‹•ã§ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ç¢ºèªå¯èƒ½
- ãƒ‡ãƒãƒƒã‚°ãŒå®¹æ˜“
- `drive.file` ã‚¹ã‚³ãƒ¼ãƒ—ã§æ“ä½œå¯èƒ½

#### JSON ã‚¹ã‚­ãƒ¼ãƒ

```json
{
  "version": 1,
  "lastModified": "2026-02-05T10:30:00.000Z",
  "deviceId": "mac-xxxxx",
  "folders": [
    {
      "id": "uuid-string",
      "name": "ãƒ•ã‚©ãƒ«ãƒ€å",
      "order": 0,
      "snippets": [
        {
          "id": "uuid-string",
          "title": "ã‚¹ãƒ‹ãƒšãƒƒãƒˆã‚¿ã‚¤ãƒˆãƒ«",
          "content": "ã‚¹ãƒ‹ãƒšãƒƒãƒˆå†…å®¹",
          "description": "",
          "order": 0,
          "createdAt": "2026-01-01T00:00:00.000Z",
          "updatedAt": "2026-02-05T10:30:00.000Z"
        }
      ]
    }
  ],
  "deleted": [
    {
      "id": "uuid-string",
      "deletedAt": "2026-02-05T10:00:00.000Z"
    }
  ]
}
```

**ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰èª¬æ˜**:

| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | å‹ | å¿…é ˆ | èª¬æ˜ |
|-----------|-----|------|------|
| version | Int | âœ… | ã‚¹ã‚­ãƒ¼ãƒãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼ˆå°†æ¥ã®äº’æ›ç”¨ï¼‰ |
| lastModified | ISO8601 | âœ… | æœ€çµ‚æ›´æ–°æ—¥æ™‚ï¼ˆãƒãƒ¼ã‚¸åˆ¤å®šç”¨ï¼‰ |
| deviceId | String | âœ… | æ›´æ–°å…ƒãƒ‡ãƒã‚¤ã‚¹ã®è­˜åˆ¥å­ï¼ˆãƒ‡ãƒãƒƒã‚°ç”¨ï¼‰ |
| folders | Array | âœ… | ãƒ•ã‚©ãƒ«ãƒ€ï¼‹ã‚¹ãƒ‹ãƒšãƒƒãƒˆéšå±¤ |
| deleted | Array | âœ… | å‰Šé™¤æ¸ˆã¿IDä¸€è¦§ï¼ˆå¢“æ¨™ã€30æ—¥ä¿æŒå¾Œè‡ªå‹•å‰Šé™¤ï¼‰ |

**IDæ–¹å¼**: UUIDæ–‡å­—åˆ—ã«çµ±ä¸€ï¼ˆWindowsç‰ˆã®hashæ–¹å¼ã¯ç§»è¡Œæ™‚ã«UUIDã¸å¤‰æ›ï¼‰

#### ãƒãƒ¼ã‚¸ãƒ­ã‚¸ãƒƒã‚¯

```
åŒæœŸå®Ÿè¡Œæ™‚:
1. ã‚¯ãƒ©ã‚¦ãƒ‰ã‹ã‚‰JSONå–å¾— (remote)
2. ãƒ­ãƒ¼ã‚«ãƒ«ã®JSONå–å¾— (local)
3. ãƒãƒ¼ã‚¸å‡¦ç†:
   a. remote.deleted ã«å«ã¾ã‚Œã‚‹IDã‚’localã‹ã‚‰å‰Šé™¤
   b. local.deleted ã«å«ã¾ã‚Œã‚‹IDã‚’remoteã‹ã‚‰å‰Šé™¤
   c. ä¸¡æ–¹ã«å­˜åœ¨ã™ã‚‹ã‚¹ãƒ‹ãƒšãƒƒãƒˆ â†’ updatedAt ãŒæ–°ã—ã„æ–¹ã‚’æ¡ç”¨
   d. localã®ã¿ã«å­˜åœ¨ â†’ ã‚¯ãƒ©ã‚¦ãƒ‰ã«è¿½åŠ 
   e. remoteã®ã¿ã«å­˜åœ¨ â†’ ãƒ­ãƒ¼ã‚«ãƒ«ã«è¿½åŠ 
   f. ãƒ•ã‚©ãƒ«ãƒ€åã®å¤‰æ›´ â†’ updatedAt ãŒæ–°ã—ã„æ–¹ã‚’æ¡ç”¨
4. ãƒãƒ¼ã‚¸çµæœã‚’ãƒ­ãƒ¼ã‚«ãƒ«ä¿å­˜ + ã‚¯ãƒ©ã‚¦ãƒ‰ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
```

**ç«¶åˆè§£æ±ºãƒ«ãƒ¼ãƒ«**:
- **Last-Writer-Wins**: `updatedAt` ãŒæ–°ã—ã„æ–¹ãŒå‹ã¤
- **å‰Šé™¤å„ªå…ˆ**: deleted ãƒªã‚¹ãƒˆã«å…¥ã£ã¦ã„ã‚Œã°ã€ç›¸æ‰‹å´ã®updatedAtã«é–¢ä¿‚ãªãå‰Šé™¤
- **ãƒ•ã‚©ãƒ«ãƒ€ç«¶åˆ**: åŒåãƒ•ã‚©ãƒ«ãƒ€ã¯åŒä¸€ã¨ã¿ãªã—ãƒãƒ¼ã‚¸

#### åŒæœŸã‚¿ã‚¤ãƒŸãƒ³ã‚°

| ã‚¿ã‚¤ãƒŸãƒ³ã‚° | æ–¹å¼ | èª¬æ˜ |
|-----------|------|------|
| ã‚¢ãƒ—ãƒªèµ·å‹•æ™‚ | ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ â†’ ãƒãƒ¼ã‚¸ | æœ€æ–°çŠ¶æ…‹ã‚’å–å¾— |
| ä¿å­˜æ™‚ | ãƒ‡ãƒã‚¦ãƒ³ã‚¹ä»˜ãã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ï¼ˆ5ç§’ï¼‰ | é »ç¹ãªä¿å­˜ã‚’æŠ‘åˆ¶ |
| å®šæœŸ | 30åˆ†ã”ã¨ï¼ˆãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ï¼‰ | ä»–ãƒ‡ãƒã‚¤ã‚¹ã®å¤‰æ›´ã‚’å–å¾— |
| æ‰‹å‹• | åŒæœŸãƒœã‚¿ãƒ³ | ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œ |

#### å‰Šé™¤ã®æ‰±ã„

- ãƒ­ãƒ¼ã‚«ãƒ«ã§å‰Šé™¤ â†’ `deleted` é…åˆ—ã«IDã¨æ—¥æ™‚ã‚’è¿½åŠ 
- æ¬¡å›åŒæœŸæ™‚ã«ã‚¯ãƒ©ã‚¦ãƒ‰ã® `deleted` é…åˆ—ã«ã‚‚ãƒãƒ¼ã‚¸
- 30æ—¥çµŒéã—ãŸ `deleted` ã‚¨ãƒ³ãƒˆãƒªã¯è‡ªå‹•ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
- å…¨ãƒ‡ãƒã‚¤ã‚¹ã§å‰Šé™¤ãŒåæ˜ ã•ã‚ŒãŸã“ã¨ã‚’ä¿è¨¼ã™ã‚‹ãŸã‚ã€30æ—¥é–“å¢“æ¨™ã‚’ä¿æŒ

#### ã‚¨ãƒ©ãƒ¼æ™‚ã®æŒ™å‹•

| ã‚¨ãƒ©ãƒ¼ | å¯¾å¿œ |
|--------|------|
| ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ | ãƒ­ãƒ¼ã‚«ãƒ«ä¿å­˜ã®ã¿ã€‚æ¬¡å›ã‚ªãƒ³ãƒ©ã‚¤ãƒ³æ™‚ã«åŒæœŸ |
| APIå¤±æ•—ï¼ˆä¸€æ™‚çš„ï¼‰ | 3å›ãƒªãƒˆãƒ©ã‚¤ï¼ˆ1ç§’ã€3ç§’ã€10ç§’é–“éš”ï¼‰ã€å¤±æ•—å¾Œã¯ãƒ­ãƒ¼ã‚«ãƒ«ä¿å­˜ |
| ãƒˆãƒ¼ã‚¯ãƒ³æœŸé™åˆ‡ã‚Œ | ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒˆãƒ¼ã‚¯ãƒ³ã§è‡ªå‹•æ›´æ–°ã€‚å¤±æ•—æ™‚ã¯å†ãƒ­ã‚°ã‚¤ãƒ³è¦æ±‚ |
| ãƒ•ã‚¡ã‚¤ãƒ«æœªå­˜åœ¨ï¼ˆ404ï¼‰ | æ–°è¦ä½œæˆãƒ•ãƒ­ãƒ¼ã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ |
| å®¹é‡ä¸è¶³ | ã‚¨ãƒ©ãƒ¼é€šçŸ¥ã‚’è¡¨ç¤º |

### Macç‰ˆã®å®Ÿè£…è¨ˆç”»

#### å¤‰æ›´ãŒå¿…è¦ãªãƒ•ã‚¡ã‚¤ãƒ«

| ãƒ•ã‚¡ã‚¤ãƒ« | å¤‰æ›´å†…å®¹ | è¦æ¨¡ |
|---------|----------|------|
| `Services/GoogleDriveService.swift` | `createFile`, `findFile`, `getMetadata` è¿½åŠ  | ä¸­ |
| `Services/PersonalSyncService.swift` | **æ–°è¦ä½œæˆ**: å€‹åˆ¥ã‚¹ãƒ‹ãƒšãƒƒãƒˆåŒæœŸã‚µãƒ¼ãƒ“ã‚¹ | å¤§ |
| `Services/StorageService.swift` | åŒæœŸç”¨save/loadã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹è¿½åŠ  | å° |
| `Models/Snippet.swift` | `createdAt`, `updatedAt` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¿½åŠ  | å° |
| `Views/Settings/AccountTab.swift` | å€‹åˆ¥ã‚¹ãƒ‹ãƒšãƒƒãƒˆåŒæœŸçŠ¶æ…‹è¡¨ç¤ºè¿½åŠ  | å° |
| `Views/Editor/ContentPanel.swift` | ä¿å­˜æ™‚ã®åŒæœŸãƒˆãƒªã‚¬ãƒ¼è¿½åŠ  | å° |

#### è¿½åŠ ã™ã‚‹é–¢æ•°

**GoogleDriveService.swift**:
```swift
func createFile(name: String, content: Data, parentId: String?,
                mimeType: String, completion: ...)
func findFile(name: String, parentFolderId: String?,
              completion: ...)                          // files.list
func findOrCreateFolder(name: String, completion: ...) // Snipeeãƒ•ã‚©ãƒ«ãƒ€
func getFileMetadata(fileId: String, completion: ...)   // modifiedTimeå–å¾—
```

**PersonalSyncService.swift** (æ–°è¦):
```swift
func syncPersonalSnippets(completion: ...)
func downloadPersonalData(completion: ...)
func uploadPersonalData(_ data: SyncData, completion: ...)
func mergeData(local: SyncData, remote: SyncData) -> SyncData
func ensureSyncFile(completion: ...)
func startAutoSync()
func stopAutoSync()
```

### å®Ÿè£…ãƒ•ã‚§ãƒ¼ã‚º

#### Phase 1: åŸºç›¤ï¼ˆDrive APIæ‹¡å¼µï¼‰
**ç›®çš„**: ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆãƒ»æ¤œç´¢ãƒ»ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿å–å¾—ã‚’å¯èƒ½ã«ã™ã‚‹

**å¯¾è±¡**: `GoogleDriveService.swift` ã« `createFile`, `findFile`, `getFileMetadata` è¿½åŠ 

**å®Œäº†æ¡ä»¶**: `Snipee/personal_snippets.json` ã®ä½œæˆãƒ»èª­ã¿æ›¸ããŒå¯èƒ½

#### Phase 2: ãƒ¢ãƒ‡ãƒ«çµ±ä¸€
**ç›®çš„**: Snippetãƒ¢ãƒ‡ãƒ«ã« `createdAt`, `updatedAt` ã‚’è¿½åŠ 

**å¯¾è±¡**: `Snippet.swift` ã« `createdAt`, `updatedAt` è¿½åŠ ï¼ˆOptionalã€å¾Œæ–¹äº’æ›ï¼‰

**ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³**: æ—¢å­˜ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿æ™‚ã« `createdAt`/`updatedAt` ãŒç„¡ã‘ã‚Œã°ç¾åœ¨æ—¥æ™‚ã§è£œå®Œ

#### Phase 3: åŒæœŸã‚¨ãƒ³ã‚¸ãƒ³ï¼ˆMacç‰ˆå…ˆè¡Œï¼‰âœ… å®Œäº†
**ç›®çš„**: 1ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§å®Œå…¨ãªåŒæœŸæ©Ÿèƒ½ã‚’å®Ÿè£…ãƒ»æ¤œè¨¼

**å¯¾è±¡**: `PersonalSyncService.swift`

**ç†ç”±**: Macç‰ˆãŒæœ€ã‚‚å®‰å®šã—ã¦ãŠã‚Šã€iOSç‰ˆã¨ã‚³ãƒ¼ãƒ‰å…±æœ‰å¯èƒ½ã€‚Windowsç‰ˆã¯ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ä¸­ã®ãŸã‚å¾Œå›ã—ã€‚

**å®Ÿè£…å†…å®¹**:
1. `ensureSyncFile()` - Snipeeãƒ•ã‚©ãƒ«ãƒ€ï¼‹JSONãƒ•ã‚¡ã‚¤ãƒ«ã®å­˜åœ¨ç¢ºèª/ä½œæˆ
2. `downloadPersonalData()` - ã‚¯ãƒ©ã‚¦ãƒ‰ã‹ã‚‰JSONãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
3. `mergeData()` - Last-Writer-Wins ãƒãƒ¼ã‚¸ãƒ­ã‚¸ãƒƒã‚¯
4. `uploadPersonalData()` - ãƒãƒ¼ã‚¸çµæœã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
5. `syncPersonalSnippets()` - ä¸Šè¨˜ã‚’çµ±åˆã—ãŸåŒæœŸãƒ•ãƒ­ãƒ¼
6. ä¿å­˜æ™‚ã®ãƒ‡ãƒã‚¦ãƒ³ã‚¹ä»˜ãã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
7. èµ·å‹•æ™‚ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
8. å®šæœŸåŒæœŸï¼ˆ30åˆ†ï¼‰

#### Phase 5: UIãƒ»UX
**ç›®çš„**: åŒæœŸçŠ¶æ…‹ã®è¡¨ç¤ºã¨ã‚¨ãƒ©ãƒ¼é€šçŸ¥

**å®Ÿè£…å†…å®¹**:
- æœ€çµ‚åŒæœŸæ—¥æ™‚ã®è¡¨ç¤º
- åŒæœŸä¸­ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼
- ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚ã®é€šçŸ¥
- æ‰‹å‹•åŒæœŸãƒœã‚¿ãƒ³

#### Phase 6: ç§»è¡Œãƒ»ãƒ†ã‚¹ãƒˆ
**ç›®çš„**: æ—¢å­˜ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ‡ãƒ¼ã‚¿ç§»è¡Œã¨å“è³ªä¿è¨¼

**å®Ÿè£…å†…å®¹**:
- æ—¢å­˜ãƒ­ãƒ¼ã‚«ãƒ«ãƒ‡ãƒ¼ã‚¿ã®åˆå›ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
- è¤‡æ•°ãƒ‡ãƒã‚¤ã‚¹åŒæ™‚ç·¨é›†ãƒ†ã‚¹ãƒˆ
- ã‚ªãƒ•ãƒ©ã‚¤ãƒ³â†’ã‚ªãƒ³ãƒ©ã‚¤ãƒ³å¾©å¸°ãƒ†ã‚¹ãƒˆ
- å¤§é‡ãƒ‡ãƒ¼ã‚¿ï¼ˆ1000ã‚¹ãƒ‹ãƒšãƒƒãƒˆï¼‰ã§ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ

### Drive APIå‘¼ã³å‡ºã—è©³ç´°

#### Snipee_ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚©ãƒ«ãƒ€æ¤œç´¢
```
GET https://www.googleapis.com/drive/v3/files
  ?q=name='Snipee_ãƒ‡ãƒ¼ã‚¿' and mimeType='application/vnd.google-apps.folder' and trashed=false
  &spaces=drive
  &fields=files(id,name)
  &supportsAllDrives=true
```

#### Snipee_ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚©ãƒ«ãƒ€ä½œæˆ
```
POST https://www.googleapis.com/drive/v3/files
  ?supportsAllDrives=true
Content-Type: application/json

{
  "name": "Snipee_ãƒ‡ãƒ¼ã‚¿",
  "mimeType": "application/vnd.google-apps.folder"
}
```

#### personal_snippets.json æ¤œç´¢

```
GET https://www.googleapis.com/drive/v3/files
  ?q=name='personal_snippets.json' and '{folderId}' in parents and trashed=false
  &spaces=drive
  &fields=files(id,name,modifiedTime)
  &supportsAllDrives=true
```

#### personal_snippets.json ä½œæˆ

```
POST https://www.googleapis.com/upload/drive/v3/files
  ?uploadType=multipart
  &supportsAllDrives=true
Content-Type: multipart/related; boundary=boundary

--boundary
Content-Type: application/json

{"name": "personal_snippets.json", "parents": ["{folderId}"], "mimeType": "application/json"}
--boundary
Content-Type: application/json

{JSONãƒ‡ãƒ¼ã‚¿}
--boundary--
```

#### personal_snippets.json æ›´æ–°

```
PATCH https://www.googleapis.com/upload/drive/v3/files/{fileId}
  ?uploadType=media
  &supportsAllDrives=true
Content-Type: application/json
Authorization: Bearer {token}

{JSONãƒ‡ãƒ¼ã‚¿}
```

#### personal_snippets.json ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰

```
GET https://www.googleapis.com/drive/v3/files/{fileId}
  ?alt=media
  &supportsAllDrives=true
Authorization: Bearer {token}
```

### ãƒªã‚¹ã‚¯ã¨æ³¨æ„ç‚¹

#### ç«¶åˆç™ºç”Ÿæ™‚ã®å¯¾å¿œ

| ç«¶åˆãƒ‘ã‚¿ãƒ¼ãƒ³ | å¯¾å¿œ |
|-------------|------|
| åŒã˜ã‚¹ãƒ‹ãƒšãƒƒãƒˆã‚’2ãƒ‡ãƒã‚¤ã‚¹ã§ç·¨é›† | Last-Writer-Winsï¼ˆupdatedAtãŒæ–°ã—ã„æ–¹ï¼‰ |
| ç‰‡æ–¹ã§å‰Šé™¤ã€ç‰‡æ–¹ã§ç·¨é›† | å‰Šé™¤ãŒå„ªå…ˆï¼ˆdeleted ãƒªã‚¹ãƒˆã«IDãŒã‚ã‚Œã°å‰Šé™¤ï¼‰ |
| åŒåãƒ•ã‚©ãƒ«ãƒ€ã‚’2ãƒ‡ãƒã‚¤ã‚¹ã§ä½œæˆ | IDãŒç•°ãªã‚Œã°åˆ¥ãƒ•ã‚©ãƒ«ãƒ€ã¨ã—ã¦ä¿æŒ |
| åŒæ™‚ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ | å¾Œã‹ã‚‰ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ãŸæ–¹ãŒå‹ã¤ï¼ˆDrive APIã®ä»•æ§˜ï¼‰ |

**ãƒ‡ãƒ¼ã‚¿ãƒ­ã‚¹é˜²æ­¢ç­–**:
- ãƒ­ãƒ¼ã‚«ãƒ«ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã¯å¾“æ¥é€šã‚Šä¿æŒ
- åŒæœŸå‰ã«å¿…ãšãƒ­ãƒ¼ã‚«ãƒ«ã®ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆã‚’ä¿å­˜
- `deleted` ã‹ã‚‰å¾©å…ƒå¯èƒ½ãªæœŸé–“ã¯30æ—¥é–“

#### APIåˆ¶é™ã¸ã®å¯¾ç­–

| åˆ¶é™ | å€¤ | å¯¾ç­– |
|------|-----|------|
| Drive API æ—¥æ¬¡ã‚¯ã‚©ãƒ¼ã‚¿ | 10å„„å›/æ—¥ï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ï¼‰ | å•é¡Œãªã— |
| Drive API ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¯ | 12,000å›/åˆ† | å•é¡Œãªã— |
| ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º | 5TB | å•é¡Œãªã—ï¼ˆJSONã¯æ•°MBä»¥ä¸‹ï¼‰ |
| rate limit (429) | å¯å¤‰ | ã‚¨ã‚¯ã‚¹ãƒãƒãƒ³ã‚·ãƒ£ãƒ«ãƒãƒƒã‚¯ã‚ªãƒ•ã§3å›ãƒªãƒˆãƒ©ã‚¤ |
| ç„¡æ–™ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå®¹é‡ | 15GB | JSONãƒ•ã‚¡ã‚¤ãƒ«1ã¤ãªã®ã§å½±éŸ¿ãªã— |

#### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

| ãƒªã‚¹ã‚¯ | å¯¾ç­– |
|--------|------|
| ãƒã‚¤ãƒ‰ãƒ©ã‚¤ãƒ–ä¸Šã®JSONãŒä»–è€…ã«è¦‹ãˆã‚‹ | ãƒ•ã‚¡ã‚¤ãƒ«å…±æœ‰è¨­å®šã¯æœ¬äººã®ã¿ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰ |
| ãƒˆãƒ¼ã‚¯ãƒ³æ¼æ´© | Macç‰ˆã®UserDefaultsä¿å­˜ã‚’KeychainåŒ–æ¨å¥¨ |
| ã‚¹ã‚³ãƒ¼ãƒ—éå‰° | `drive.file` ã¸ã®çµ±ä¸€ã‚’æ¨å¥¨ï¼ˆPhase 1ã§å¯¾å¿œï¼‰ |

---

## ğŸš¨ æœªè§£æ±ºã®å•é¡Œ

### ã‚µã‚¤ãƒ‰ãƒãƒ¼ ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ âœ… è§£æ±ºæ¸ˆã¿

- `SidebarKeyboardMonitor: NSViewRepresentable` + `NSEvent.addLocalMonitorForEvents` ã§å®Ÿè£…
- `firstResponder is NSTextView` ãƒã‚§ãƒƒã‚¯ã§InlineTextFieldç·¨é›†ä¸­ã¯ã‚¹ã‚­ãƒƒãƒ—
- ãƒ•ã‚©ãƒ«ãƒ€ãƒ»ã‚¹ãƒ‹ãƒšãƒƒãƒˆã¨ã‚‚ã« `isFocused` ã§èƒŒæ™¯è‰²ãƒã‚¤ãƒ©ã‚¤ãƒˆè¡¨ç¤º

### ã‚µã‚¤ãƒ‰ãƒãƒ¼ ãƒªãƒãƒ¼ãƒ ãƒ»å³ã‚¯ãƒªãƒƒã‚¯ âœ… è§£æ±ºæ¸ˆã¿

- **ãƒªãƒãƒ¼ãƒ **: InlineTextFieldï¼ˆNSTextField wrapperï¼‰ã§Enter/Escape/ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãƒ­ã‚¹å…¨å¯¾å¿œ â†’ ãƒ­ã‚°ç¢ºèªæ¸ˆã¿
- **å³ã‚¯ãƒªãƒƒã‚¯**: `.contextMenu` ã§å¾©æ´» â†’ å‹•ä½œç¢ºèªæ¸ˆã¿
- **...ãƒœã‚¿ãƒ³**: `EllipsisMenuButton` å¾©æ´» â†’ å‹•ä½œç¢ºèªæ¸ˆã¿

**é–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«**: `FolderSidebar.swift`

### ã‚¹ãƒ‹ãƒšãƒƒãƒˆã‚¨ãƒ‡ã‚£ã‚¿ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å•é¡Œ

**ç—‡çŠ¶**: ã‚¹ãƒ‹ãƒšãƒƒãƒˆã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‹ã‚‰ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ç§»å‹•ã¾ã§ãƒ¯ãƒ³ãƒ†ãƒ³ãƒé…ã‚Œã‚‹ã€‚Clipyï¼ˆAppKitï¼‰ã¯è»½ã„ãŒSnipeeï¼ˆSwiftUIï¼‰ã¯é‡ã„ã€‚

**é–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«**:
- `SnippetEditorView.swift`
- `SnippetEditorWindow.swift`
- `ContentPanel.swift`
- `FolderSidebar.swift`

**èª¿æŸ»çµæœï¼ˆ2026-02-09ï¼‰**:

1ã‚¯ãƒªãƒƒã‚¯ã§æœ€å¤§11å€‹ã®@Stateå¤‰æ•°ãŒå¤‰æ›´ã•ã‚Œã€å°‘ãªãã¨ã‚‚2å›ã®ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒ‘ã‚¹ãŒç™ºç”Ÿã—ã¦ã„ã‚‹ã€‚

**ã‚¯ãƒªãƒƒã‚¯æ™‚ã®å‡¦ç†ãƒ•ãƒ­ãƒ¼**:
```
SnippetRow.onTapGesture (FolderSidebar.swift:914)
  â†’ onSelectSnippet callback (FolderSidebar.swift:99-104)
    â†’ 5ã¤ã®@State/@BindingåŒæœŸæ›´æ–°
  â†’ ContentPanel onChange(selectedSnippetId) (ContentPanel.swift:72)
    â†’ hasUnsavedChanges ? saveImmediately() â†’ UserDefaultsåŒæœŸæ›¸ãè¾¼ã¿
    â†’ loadSnippet() â†’ 6ã¤ã®@Stateå¤‰æ•°æ›´æ–°
    â†’ DispatchQueue.main.async { isLoadingSnippet = false } â†’ è¿½åŠ ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒ‘ã‚¹
```

**ãƒœãƒˆãƒ«ãƒãƒƒã‚¯ï¼ˆæ”¹å–„å„ªå…ˆåº¦é †ï¼‰**:

| # | å•é¡Œ | å½±éŸ¿åº¦ | å ´æ‰€ | æ”¹å–„æ¡ˆ |
|---|------|--------|------|--------|
| 1 | 11å€‹ã®@Stateå¤‰æ•°ãŒå€‹åˆ¥æ›´æ–°â†’å¤šæ•°ã®ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒ‘ã‚¹ | é«˜ | FolderSidebar:99-104, ContentPanel:321-337 | æ§‹é€ ä½“ã«ã¾ã¨ã‚ã¦1å›ã§æ›´æ–° |
| 2 | saveImmediately()ã®ãƒ¡ã‚¤ãƒ³ã‚¹ãƒ¬ãƒƒãƒ‰åŒæœŸUserDefaultsæ›¸ãè¾¼ã¿ | é«˜ | ContentPanel:74-76 â†’ SnippetEditorView:358-360 | éåŒæœŸåŒ– or ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã‚­ãƒ¥ãƒ¼ |
| 3 | DispatchQueue.main.asyncã«ã‚ˆã‚‹2ãƒ‘ã‚¹ãƒ¬ãƒ³ãƒ€ãƒ¼ | ä¸­ | ContentPanel:334-336 | isLoadingSnippetã®ãƒªã‚»ãƒƒãƒˆã‚’åŒæœŸåŒ– |
| 4 | ContentPanel .id()ä¿®é£¾å­ã«ã‚ˆã‚‹Viewç ´æ£„ãƒ»å†ä½œæˆ | ä¸­ | SnippetEditorView:165 | å€‹åˆ¥/ãƒã‚¹ã‚¿åˆ‡æ›¿æ™‚ã«onAppear+onChangeã®äºŒé‡loadSnippet()ãŒç™ºç”Ÿ |
| 5 | selectedSnippetè¨ˆç®—ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®O(n)æ¤œç´¢ | ä½ | ContentPanel:37,41 | Dictionaryã‚­ãƒ£ãƒƒã‚·ãƒ¥åŒ– |

**éå»ã®èª¿æŸ»ï¼ˆ2026-02-02ï¼‰**:

| ãƒ†ã‚¹ãƒˆ | çµæœ |
|-------|------|
| `.id()` ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆ | åŸå› ã§ã¯ãªã‹ã£ãŸ |
| `isLoadingSnippet` ãƒ•ãƒ©ã‚°è¿½åŠ ï¼ˆonChangeæŠ‘åˆ¶ï¼‰ | å°‘ã—æ”¹å–„ |
| `DispatchQueue.main.async` ã§é…å»¶è§£é™¤ | å°‘ã—æ”¹å–„ |

**å¦å®šã•ã‚ŒãŸä»®èª¬**:
- ãƒ‡ãƒãƒƒã‚°printæ–‡ã®I/Oãƒ–ãƒ­ãƒƒã‚­ãƒ³ã‚° â†’ å‰å›40ä»¶å‰Šé™¤æ¸ˆã¿ã€ã‚¹ãƒ‹ãƒšãƒƒãƒˆé¸æŠã®ãƒ›ãƒƒãƒˆãƒ‘ã‚¹ã«æ®‹å­˜printã¯ã‚¼ãƒ­

**å°†æ¥æ¤œè¨**: ä¸Šè¨˜ã§ä¸ååˆ†ãªå ´åˆã€SwiftUI TextEditor â†’ NSViewRepresentable(NSTextView)ã¸ã®ç½®æ›

---

## ğŸ—“ï¸ TODO / ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—

### ğŸ”´ æœ€å„ªå…ˆ
- ãƒ‡ãƒãƒƒã‚°printæ–‡ã®å‰Šé™¤ï¼ˆFolderSidebar.swift å†…ã® InlineTextField / commitRename ç³»ï¼‰

### ğŸŸ¡ æ”¹å–„
- ã‚¹ãƒ‹ãƒšãƒƒãƒˆã‚¨ãƒ‡ã‚£ã‚¿ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„ï¼ˆ@StateãƒãƒƒãƒåŒ–ã€saveImmediatelyéåŒæœŸåŒ–ï¼‰
- Macæ”¹å–„4ä»¶ï¼ˆKeychainåŒ–ã€ã‚¹ã‚³ãƒ¼ãƒ—åˆ¶é™ç­‰ï¼‰

### ğŸŸ¢ å°†æ¥
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®Macç‰ˆç§»è¡Œæ¡ˆå†…
- Swift 6 ç§»è¡Œï¼ˆasync/awaitå¯¾å¿œï¼‰
- ã‚¿ã‚°æ©Ÿèƒ½ã€æ¤œç´¢æ©Ÿèƒ½å¼·åŒ–

---

## ğŸ”® ä»Šå¾Œã®å±•æœ›

### ã‚µã‚¤ãƒ‰ãƒãƒ¼UIï¼ˆçŸ­æœŸï¼‰

| é …ç›® | å†…å®¹ | å„ªå…ˆåº¦ |
|------|------|--------|
| ãƒ‡ãƒãƒƒã‚°printå‰Šé™¤ | InlineTextField / commitSnippetRename / commitFolderRename å†…ã®printæ–‡ã‚’å‰Šé™¤ | é«˜ |

### ã‚¨ãƒ‡ã‚£ã‚¿å…¨èˆ¬ï¼ˆä¸­æœŸï¼‰

| é …ç›® | å†…å®¹ | å„ªå…ˆåº¦ |
|------|------|--------|
| ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„ | @Stateå¤‰æ•°ãƒãƒƒãƒåŒ–ã€saveImmediatelyéåŒæœŸåŒ– | é«˜ |
| NSTextViewåŒ– | SwiftUI TextEditor â†’ NSViewRepresentable(NSTextView) ã¸ã®ç½®æ›æ¤œè¨ | ä¸­ |
| ã‚¿ã‚°æ©Ÿèƒ½ | ã‚¹ãƒ‹ãƒšãƒƒãƒˆã«ã‚¿ã‚°ä»˜ã‘ã€ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚° | ä½ |
| ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå¤‰æ•°æ‹¡å¼µ | æ–°ã—ã„å¤‰æ•°ã‚¿ã‚¤ãƒ—ã®è¿½åŠ  | ä½ |

### ã‚¯ãƒ­ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ï¼ˆé•·æœŸï¼‰

| é …ç›® | å†…å®¹ | å„ªå…ˆåº¦ |
|------|------|--------|
| ã‚¯ãƒ©ã‚¦ãƒ‰åŒæœŸWindowsç‰ˆ | Macãƒ»iOSå®Œäº†æ¸ˆã¿ â†’ Windowsç‰ˆã®å®Ÿè£… | ä¸­ |
| Windowsç‰ˆæ©Ÿèƒ½çµ±ä¸€ | Electronç‰ˆã®CSS/JSå…±é€šåŒ–ã€auto-pasteæ”¹å–„ | ä¸­ |
| App Storeæå‡º | iOSç‰ˆï¼ˆSnipee Tapï¼‰ã®å¯©æŸ»æå‡º | ä¸­ |
| ãƒ‡ã‚¶ã‚¤ãƒ³çµ±ä¸€ | Steve Jobsé¢¨ã‚°ãƒ¬ãƒ¼ã‚«ãƒ©ãƒ¼ã‚¹ã‚­ãƒ¼ãƒ  | ä½ |

### ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆé•·æœŸï¼‰

| é …ç›® | å†…å®¹ | å„ªå…ˆåº¦ |
|------|------|--------|
| SwiftUIã‹ã‚‰AppKitç§»è¡Œæ¤œè¨ | ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãªç®‡æ‰€ï¼ˆã‚µã‚¤ãƒ‰ãƒãƒ¼ã€ã‚¨ãƒ‡ã‚£ã‚¿ï¼‰ã‚’NSViewRepresentableã¾ãŸã¯å®Œå…¨AppKitåŒ– | ä¸­ |
| Swift 6å¯¾å¿œ | async/awaitã€Strict Concurrency | ä½ |
| ã‚¹ã‚³ãƒ¼ãƒ—åˆ¶é™ | Google Drive API `drive` â†’ `drive.file` | ä¸­ |

---

## ğŸ“š å‚è€ƒæƒ…å ±

### ã‚¹ãƒ—ã‚·æ§‹é€ 

**ã‚·ãƒ¼ãƒˆ1: ãƒ¡ãƒ³ãƒãƒ¼ãƒªã‚¹ãƒˆ**

| ã‚¹ã‚¿ãƒƒãƒ•å | ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹      | éƒ¨ç½²        | æ¨©é™       |
| ---------- | ------------------- | ----------- | ---------- |
| å°æ¾æ™ƒä¹Ÿ   | komatsu@company.com | å–¶æ¥­,ãƒãƒ¼ã‚± | æœ€é«˜ç®¡ç†è€… |

**ã‚·ãƒ¼ãƒˆ2: éƒ¨ç½²è¨­å®š**

| éƒ¨ç½² | XMLãƒ•ã‚¡ã‚¤ãƒ«ID |
| ---- | ------------- |
| å–¶æ¥­ | 1ABC123...    |

### ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ›ãƒƒãƒˆã‚­ãƒ¼

| æ©Ÿèƒ½           | Mac        | Windows    |
| -------------- | ---------- | ---------- |
| ãƒ¡ã‚¤ãƒ³         | Cmd+Ctrl+C | Ctrl+Alt+C |
| ã‚¹ãƒ‹ãƒšãƒƒãƒˆå°‚ç”¨ | Cmd+Ctrl+V | Ctrl+Alt+V |
| å±¥æ­´å°‚ç”¨       | Cmd+Ctrl+X | Ctrl+Alt+X |

### Google API ã‚¹ã‚³ãƒ¼ãƒ—

```
https://www.googleapis.com/auth/userinfo.email
https://www.googleapis.com/auth/spreadsheets
https://www.googleapis.com/auth/drive
```

### ãƒ†ã‚¹ãƒˆç”¨ã‚³ãƒãƒ³ãƒ‰

```bash
# Macç‰ˆ å®Œå…¨ãƒªã‚»ãƒƒãƒˆ
osascript -e 'quit app "SnipeeMac"' && defaults delete com.addness.SnipeeMac 2>/dev/null; rm -rf ~/Library/Preferences/com.addness.SnipeeMac.plist && rm -rf ~/Library/Containers/com.addness.SnipeeMac && rm -rf ~/Library/Application\ Support/SnipeeMac && security delete-generic-password -s "com.addness.SnipeeMac" 2>/dev/null; killall cfprefsd

# ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆãƒã‚§ãƒƒã‚¯æ—¥ä»˜ãƒªã‚»ãƒƒãƒˆ
defaults delete com.addness.SnipeeMac lastUpdateCheckDate

# ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒªã‚»ãƒƒãƒˆ
defaults delete com.addness.SnipeeMac welcomeCompleted
```

---

## ğŸ”„ å¤‰æ›´å±¥æ­´

### 2026-02-27

- **FolderSidebar ãƒã‚°ä¿®æ­£ãƒ»UXæ”¹å–„**ï¼ˆFolderSidebar.swiftï¼‰
  - **ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³å®Œæˆ**: `SidebarKeyboardMonitor` + `NSEvent.addLocalMonitorForEvents` ã§â†‘â†“ãƒŠãƒ“ãƒ»Enteré–‹é–‰ãŒæ­£å¸¸å‹•ä½œã€‚`firstResponder is NSTextView` ãƒã‚§ãƒƒã‚¯ã§InlineTextFieldç·¨é›†ä¸­ã¯ã‚¹ã‚­ãƒƒãƒ—
  - **ãƒ•ã‚©ãƒ«ãƒ€ä½œæˆã‚’ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³åŒ–**: ãƒ¢ãƒ¼ãƒ€ãƒ«å»ƒæ­¢ â†’ ä½œæˆç›´å¾Œã«ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³å…¥åŠ›ã¸ç§»è¡Œã€‚ç©ºåã®ã¾ã¾ã‚³ãƒŸãƒƒãƒˆã§è‡ªå‹•å‰Šé™¤
  - **ãƒã‚¹ã‚¿/å€‹åˆ¥ãƒ•ã‚©ãƒ«ãƒ€ä½œæˆåˆ†å²ã‚’ä¿®æ­£**: ãƒ˜ãƒƒãƒ€ãƒ¼ã€Œ+ã€ãƒœã‚¿ãƒ³ã¨ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®ä¸¡æ–¹ã§ `isShowingMaster && isAdmin` ã‚’å‚ç…§ã—ã¦ãƒã‚¹ã‚¿/å€‹åˆ¥ã‚’æ­£ã—ãæŒ¯ã‚Šåˆ†ã‘
  - **ãƒ•ã‚©ãƒ«ãƒ€ã‚¯ãƒªãƒƒã‚¯æ™‚ã®ãƒ•ã‚©ãƒ¼ã‚«ã‚¹çŠ¶æ…‹ã‚’ä¿®æ­£**: `onToggle` å†…ã§ `focusedItemId` ã¨ `isShowingMaster` ã‚’æ›´æ–°ã—ã€ãƒ•ã‚©ãƒ«ãƒ€ã‚¯ãƒªãƒƒã‚¯å¾Œã®ã€Œ+ã€ãƒœã‚¿ãƒ³ãŒæ­£ã—ãæ©Ÿèƒ½ã™ã‚‹ã‚ˆã†ã«
  - **ãƒ•ã‚©ãƒ«ãƒ€ã®ãƒ•ã‚©ãƒ¼ã‚«ã‚¹èƒŒæ™¯è‰²ã‚’è¿½åŠ **: ã‚¹ãƒ‹ãƒšãƒƒãƒˆã¨åŒæ§˜ã« `isFocused` ã§ `Color.accentColor.opacity(0.3)` ã‚’è¡¨ç¤ºã€‚ç¸¦ç·šã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ã‚’å»ƒæ­¢
  - **å‰Šé™¤ã—ãŸãƒ‡ãƒ¼ã‚¿ãŒå†èµ·å‹•ã§å¾©æ´»ã™ã‚‹ãƒã‚°ã‚’ä¿®æ­£**: `deleteFolder` / `deleteSnippet` æ™‚ã« `PersonalSyncService.shared.markAsDeleted(id:)` ã‚’å‘¼ã¶ã‚ˆã†ã«ä¿®æ­£ã€‚`deleted` ãƒªã‚¹ãƒˆãŒç©ºã®ã¾ã¾ã ã£ãŸãŸã‚ã‚¯ãƒ©ã‚¦ãƒ‰ã‹ã‚‰ä¸Šæ›¸ãã•ã‚Œã¦ã„ãŸ
  - **MainPopupView.swift ã‚’ç§»å‹•**: `Views/Popup/` â†’ `Views/Onboarding/` ã«ç§»å‹•ã€‚å¤ã„ãƒ•ã‚¡ã‚¤ãƒ«ãŒãƒªãƒ¢ãƒ¼ãƒˆã«æ®‹å­˜ã—ã¦ã„ã¦ãƒ“ãƒ«ãƒ‰æ™‚ã«é‡è¤‡ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¦ã„ãŸãŸã‚å‰Šé™¤
- **v2.0.5 ãƒªãƒªãƒ¼ã‚¹å®Œäº†**ï¼ˆtag: mac-v2.0.5ï¼‰

### 2026-02-16

- **ã‚µã‚¤ãƒ‰ãƒãƒ¼ãƒªãƒãƒ¼ãƒ å®Œå…¨ä¿®æ­£**ï¼ˆFolderSidebar.swiftï¼‰
  - SwiftUI `TextField(.plain)` + `.onSubmit` â†’ `InlineTextField: NSViewRepresentable` + `NSTextField` ã«ç½®æ›
  - `NSTextFieldDelegate` ã® `controlTextDidEndEditing` / `control(_:textView:doCommandBy:)` ã§Enter/Escape/ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãƒ­ã‚¹å…¨å¯¾å¿œ
  - `hasCommitted` ãƒ•ãƒ©ã‚°ã§äºŒé‡å®Ÿè¡Œé˜²æ­¢
  - SwiftUI `@FocusState` / `.focused()` / `.onChange(of: editingTitle)` æ”¹è¡Œæ¤œå‡ºãƒãƒƒã‚¯å…¨å‰Šé™¤
- **å³ã‚¯ãƒªãƒƒã‚¯ãƒ¡ãƒ‹ãƒ¥ãƒ¼å¾©æ´»**ï¼ˆFolderSidebar.swiftï¼‰
  - FolderRow / SnippetRow ã« `.contextMenu` è¿½åŠ ï¼ˆSwiftUIæ¨™æº–ã€è»½é‡ï¼‰
  - ãƒ¡ãƒ‹ãƒ¥ãƒ¼å†…å®¹ï¼šæ–°è¦ã‚¹ãƒ‹ãƒšãƒƒãƒˆã€æ–°è¦ãƒ•ã‚©ãƒ«ãƒ€ã€åå‰å¤‰æ›´ã€æ˜‡æ ¼/é™æ ¼ï¼ˆç®¡ç†è€…ã®ã¿ï¼‰ã€å‰Šé™¤
- **EllipsisMenuButtonï¼ˆ...ãƒœã‚¿ãƒ³ï¼‰å¾©æ´»**ï¼ˆFolderSidebar.swiftï¼‰
  - RowClickHandleræ–¹å¼ï¼ˆNSView overlayå…¨è¡Œé…ç½®ï¼‰ã¯makeNSViewä¸­ã«ã‚¯ãƒ©ãƒƒã‚·ãƒ¥ â†’ å»ƒæ­¢
  - å…ƒã® `EllipsisMenuButton: NSViewRepresentable` + `NSButton` + `NSMenu` æ–¹å¼ã«æˆ»ã—ãŸ
- **RowClickHandlerå‰Šé™¤**ï¼ˆFolderSidebar.swiftï¼‰
  - NSViewRepresentableã‚’overlayã§å…¨è¡Œé…ç½® â†’ Thread 1ã‚¯ãƒ©ãƒƒã‚·ãƒ¥
  - å·¦ã‚¯ãƒªãƒƒã‚¯: `.onTapGesture`ã€å³ã‚¯ãƒªãƒƒã‚¯: `.contextMenu` ã«åˆ†é›¢
- **ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ä¿®æ­£æŒ‡ç¤ºä½œæˆ**ï¼ˆFolderSidebar.swiftï¼‰
  - `SidebarKeyboardMonitor` æ–¹å¼ï¼ˆNSEvent.addLocalMonitorForEventsï¼‰
  - 13ç®‡æ‰€ã®ä¿®æ­£æŒ‡ç¤ºã‚’ä½œæˆï¼ˆæœªé©ç”¨ï¼‰

### 2026-02-15

- **MVPåŒ–ï¼šä»–éƒ¨ç½²ãƒã‚¹ã‚¿å‚ç…§ã‚’å‰Šé™¤**ï¼ˆSnippetEditorView.swiftï¼‰
  - @Stateå¤‰æ•°5å€‹å‰Šé™¤ï¼ˆallDepartments, selectedOtherDepartment, otherDepartmentFolders, isLoadingOtherDepartment, isViewingOtherDepartmentï¼‰
  - editorToolbar ã‹ã‚‰ä»–éƒ¨ç½²é–‰ã˜ã‚‹ãƒœã‚¿ãƒ³ã€otherDepartmentMenu ã‚’å‰Šé™¤
  - buildFlatSnippetList / currentMasterFolders / currentContentFolders ã®åˆ†å²ç°¡ç´ åŒ–
  - sidebarView / contentPanelView ã® isReadOnly ã‚’ false å›ºå®š
  - loadAdminStatus ã‹ã‚‰ loadAllDepartments å‘¼ã³å‡ºã—å‰Šé™¤
  - loadAllDepartments / loadOtherDepartmentSnippets / closeOtherDepartmentView é–¢æ•°å‰Šé™¤
  - å°†æ¥å¾©æ´»ç”¨ã‚³ãƒ¼ãƒ‰ã‚»ãƒƒãƒˆã‚’ HANDOVER æœ«å°¾ã«ä¿å­˜
  - **æœªå‰Šé™¤**: FolderSidebar.swift ã® isReadOnly ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼ˆfalseå›ºå®šã§æ®‹ç½®ï¼‰
  - **æœªå‰Šé™¤**: ContentPanel.swift ã® isReadOnly ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼ˆfalseå›ºå®šã§æ®‹ç½®ï¼‰
  - **æœªå‰Šé™¤**: GoogleSheetsService.swift ã® fetchAllDepartments / DepartmentInfoï¼ˆAPIå±¤ã¯æ¸©å­˜ï¼‰

### 2026-02-10

- **ã‚µã‚¤ãƒ‰ãƒãƒ¼UIå¤§å¹…æ”¹å–„**ï¼ˆFolderSidebar.swiftï¼‰
  - å³ã‚¯ãƒªãƒƒã‚¯ãƒ¡ãƒ‹ãƒ¥ãƒ¼å»ƒæ­¢ â†’ ã€Œ...ã€ãƒœã‚¿ãƒ³å¸¸æ™‚è¡¨ç¤ºã«å¤‰æ›´
  - SwiftUI `.popover` â†’ SwiftUI `Menu` â†’ NSMenuç›´æ¥å‘¼ã³å‡ºã—ã¨è©¦è¡ŒéŒ¯èª¤
  - æœ€çµ‚çš„ã« `EllipsisMenuButton: NSViewRepresentable` + `NSButton` + `NSMenu` ã«è½ã¡ç€ã
  - `objc_setAssociatedObject` ã§MenuActionã®ARCè§£æ”¾ã‚’é˜²æ­¢
  - ãƒœã‚¿ãƒ³åº§æ¨™ã‹ã‚‰ç›´æ¥ `menu.popUp` ã§å³æ™‚è¡¨ç¤ºãƒ»ä½ç½®æ­£ç¢º
  - `isHovered` / `onHover` / SwiftUI `Menu` å…¨å‰Šé™¤ã§ã‚³ãƒ¼ãƒ‰ç°¡ç´ åŒ–
- **è‡ªå‹•ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«è¿½åŠ **ï¼ˆFolderSidebar.swiftï¼‰
  - `ScrollViewReader` + `scrollTo` ã§ã‚¹ãƒ‹ãƒšãƒƒãƒˆé¸æŠæ™‚ã«è‡ªå‹•è¿½å°¾
  - `LazyVStack` â†’ `VStack` ã«å¤‰æ›´ï¼ˆLazyVStack + ScrollViewReader ã§ç„¡é™ãƒ«ãƒ¼ãƒ—ç™ºç”Ÿï¼‰
  - `.focusEffectDisabled()` ã§ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãƒªãƒ³ã‚°ï¼ˆé’æ ï¼‰éè¡¨ç¤º
- **ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè£…é–‹å§‹**ï¼ˆFolderSidebar.swiftï¼‰
  - `SidebarItem` enum: ãƒ•ã‚©ãƒ«ãƒ€/ã‚¹ãƒ‹ãƒšãƒƒãƒˆã‚’çµ±ä¸€çš„ã«æ‰±ã†å‹
  - `buildFlatList()`: è¡¨ç¤ºä¸­ã‚¢ã‚¤ãƒ†ãƒ ã‚’ãƒ•ãƒ©ãƒƒãƒˆé…åˆ—åŒ–ï¼ˆé–‰ã˜ãŸãƒ•ã‚©ãƒ«ãƒ€ã®ä¸­èº«ã¯ã‚¹ã‚­ãƒƒãƒ—ï¼‰
  - `navigateUp()` / `navigateDown()` / `handleEnter()` ãƒ­ã‚¸ãƒƒã‚¯å®Ÿè£…
  - `focusedItemId` ã«ã‚ˆã‚‹ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ç®¡ç†ãƒ»ãƒã‚¤ãƒ©ã‚¤ãƒˆè¡¨ç¤º
  - **æœªå®Œæˆ**: `.onKeyPress` ãŒScrollViewä¸Šã§ç™ºç«ã—ãªã„ â†’ NSEventæ–¹å¼ã¸ã®åˆ‡ã‚Šæ›¿ãˆå¿…è¦

### 2026-02-09

- **HANDOVERã‚’Mac/Windows/iOSã«åˆ†é›¢**
  - å…±é€šéƒ¨åˆ†ã‚’æ’é™¤ã—ã€ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å›ºæœ‰ã®æƒ…å ±ã«ç‰¹åŒ–

### 2026-02-03

- **Google APIã‚¹ã‚³ãƒ¼ãƒ—å¤‰æ›´**
  - `spreadsheets.readonly` â†’ `spreadsheets`ï¼ˆã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å ±å‘Šç”¨ã®æ›¸ãè¾¼ã¿æ¨©é™ï¼‰

### 2026-02-02

- **v2.0.3ãƒªãƒªãƒ¼ã‚¹**
- **ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æ©Ÿèƒ½è¿½åŠ **ï¼ˆStorageService.swiftï¼‰
  - å€‹åˆ¥ã‚¹ãƒ‹ãƒšãƒƒãƒˆä¿å­˜æ™‚ã«1ä¸–ä»£ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’è‡ªå‹•ä½œæˆ
  - `personal_snippets_backup` ã‚­ãƒ¼ã§ä¿å­˜
- **ãƒ„ãƒ¼ãƒ«ãƒãƒ¼æ•´ç†**ï¼ˆSnippetEditorView.swiftï¼‰
  - ãƒœã‚¿ãƒ³ã‚’å³å¯„ã›ã«çµ±ä¸€
  - ç®¡ç†è€…: åŒæœŸ | ã‚¤ãƒ³ãƒãƒ¼ãƒˆ | ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ | ãƒã‚¹ã‚¿æ›´æ–°
  - ä¸€èˆ¬: åŒæœŸ | ã‚¤ãƒ³ãƒãƒ¼ãƒˆ | ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
  - ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã‚’ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ‘ãƒãƒ«å´ã®ã¿ã«è¡¨ç¤º
- **ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆå®‰å®šåŒ–**ï¼ˆContentPanel.swiftï¼‰
  - ç©ºçŠ¶æ…‹ã§ã‚‚ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã‚’è¡¨ç¤ºã—ã¦ã‚¬ã‚¿ã¤ãè§£æ¶ˆ
- **GitHub Actionsä¿®æ­£**ï¼ˆbuild-mac.ymlï¼‰
  - appcast pushå‰ã«fetch/checkout/pullã‚’è¿½åŠ 
  - ç«¶åˆã«ã‚ˆã‚‹pushå¤±æ•—ã‚’é˜²æ­¢

### 2026-02-01ï¼ˆåˆå¾Œï¼‰

- **ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰å‡¦ç†ã‚’å…±é€šåŒ–**
  - `PopupKeyboardHandler.swift` ã‚’æ–°è¦ä½œæˆ
  - MainPopupViewã€SnippetPopupViewã€HistoryPopupViewã§å…±é€šåˆ©ç”¨
- **ãƒ‡ãƒãƒƒã‚°printæ–‡ã‚’å‰Šé™¤**ï¼ˆ40ä»¶ã€10ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
- **ã‚¹ãƒ‹ãƒšãƒƒãƒˆã‚¨ãƒ‡ã‚£ã‚¿ã«ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œè¿½åŠ **
  - Cmd+â†‘â†“ã§ã‚¹ãƒ‹ãƒšãƒƒãƒˆåˆ‡ã‚Šæ›¿ãˆ
- **ContentPanelã®ä¿å­˜æœ€é©åŒ–**
  - hasUnsavedChangesãƒ•ãƒ©ã‚°ã§å¤‰æ›´æ™‚ã®ã¿ä¿å­˜
- **ä¸è¦ãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤**
  - OPTIMIZATION_PROPOSAL.md
  - SNIPPET_EDITOR_ANALYSIS.md

### 2026-02-01ï¼ˆåˆå‰ï¼‰

- **Clipy XMLã‚¤ãƒ³ãƒãƒ¼ãƒˆå•é¡Œã®èª¿æŸ»**ï¼ˆæœªè§£æ±ºâ†’ã‚¹ã‚­ãƒƒãƒ—ï¼‰
- **ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°æ”¹å–„**
  - WelcomeViewã«ãƒ­ã‚°ã‚¤ãƒ³ã‚¹ãƒ†ãƒƒãƒ—è¿½åŠ ï¼ˆ5ã‚¹ãƒ†ãƒƒãƒ—ã«ï¼‰
  - ãƒ­ã‚°ã‚¤ãƒ³å¿…é ˆåŒ–ï¼ˆã‚¹ã‚­ãƒƒãƒ—ä¸å¯ï¼‰
  - ã‚ªãƒ¬ãƒ³ã‚¸ãƒ†ãƒ¼ãƒã§çµ±ä¸€
  - OnboardingView.swiftã€OnboardingWindow.swiftã‚’å‰Šé™¤ï¼ˆæœªä½¿ç”¨ï¼‰
- **è‡ªå‹•ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆæ”¹å–„**
  - ãƒ­ã‚°ã‚¤ãƒ³å¾Œã«ã®ã¿Sparkleé–‹å§‹
  - App Sandboxå‰Šé™¤ï¼ˆã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¨©é™ã‚¨ãƒ©ãƒ¼å¯¾ç­–ï¼‰
- **LoginRequiredViewæ”¹å–„**
  - ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚¯ãƒ­ãƒ¼ã‚ºã‚’ã‚¿ã‚¤ãƒˆãƒ«ã§ç‰¹å®š
- **è¨­å®šç”»é¢**
  - ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å†è¡¨ç¤ºã‚’WelcomeViewã«å¤‰æ›´
  - ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦å‚ç…§ã‚’@Stateã§ä¿æŒ

### 2026-01-31

- **è‡ªå‹•ä¿å­˜æ©Ÿèƒ½ã‚’è¿½åŠ **
  - 0.3ç§’ãƒ‡ãƒã‚¦ãƒ³ã‚¹ã§è‡ªå‹•ä¿å­˜
  - ä¿å­˜çŠ¶æ…‹ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³è¡¨ç¤º
  - åˆ‡ã‚Šæ›¿ãˆæ™‚ãƒ»ç”»é¢ã‚¯ãƒ­ãƒ¼ã‚ºæ™‚ã®å³æ™‚ä¿å­˜
- **è‡ªå‹•ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆæ©Ÿèƒ½ã‚’ä¿®æ­£**
  - appcast-mac.xml ã‚’æ­£ã—ã„URLã§ä½œæˆ
  - Constants.swift ã®appcast URLã‚’ä¿®æ­£ï¼ˆå¤§æ–‡å­—Snipeeï¼‰
  - Sparkleã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’è¿½åŠ 
- **ãƒãƒ¼ã‚¸ãƒ§ãƒ³è‡ªå‹•æ›´æ–°ã‚’è¿½åŠ **
  - GitHub Actionsã§ã‚¿ã‚°ã‹ã‚‰ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’è‡ªå‹•æŠ½å‡º
  - Xcodeã§ã®æ‰‹å‹•æ›´æ–°ãŒä¸è¦ã«
- **ãƒã‚¹ã‚¿ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½ã‚’ä¿®æ­£**
  - Google Driveã‚¹ã‚³ãƒ¼ãƒ—ã‚’`drive`ã«å¤‰æ›´ï¼ˆãƒ•ãƒ«ã‚¢ã‚¯ã‚»ã‚¹ï¼‰
  - å…±æœ‰ãƒ‰ãƒ©ã‚¤ãƒ–å¯¾å¿œï¼ˆ`supportsAllDrives=true`ï¼‰

### 2026-01-27

- **ä»–éƒ¨ç½²ãƒã‚¹ã‚¿å‚ç…§æ©Ÿèƒ½ã‚’è¿½åŠ **
  - ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã«ä»–éƒ¨ç½²ãƒã‚¹ã‚¿é¸æŠãƒ¡ãƒ‹ãƒ¥ãƒ¼
  - èª­ã¿å–ã‚Šå°‚ç”¨ãƒ¢ãƒ¼ãƒ‰å®Ÿè£…
  - ãƒ†ã‚­ã‚¹ãƒˆé¸æŠæ©Ÿèƒ½
- **ç®¡ç†è€…ãƒã‚¹ã‚¿ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½ã‚’è¿½åŠ **

---

## ğŸ”’ å°†æ¥å¾©æ´»ç”¨ã‚³ãƒ¼ãƒ‰ã‚»ãƒƒãƒˆ

### ä»–éƒ¨ç½²ãƒã‚¹ã‚¿å‚ç…§ï¼ˆ2026-02-15 å‰Šé™¤ï¼‰

**æ¦‚è¦**: ç®¡ç†è€…ãŒãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã‹ã‚‰ä»–éƒ¨ç½²ã®ãƒã‚¹ã‚¿ã‚¹ãƒ‹ãƒšãƒƒãƒˆã‚’èª­ã¿å–ã‚Šå°‚ç”¨ã§é–²è¦§ã™ã‚‹æ©Ÿèƒ½

**å‰ææ¡ä»¶**:
- `GoogleSheetsService.swift` ã® `fetchAllDepartments()` / `DepartmentInfo` ã¯æ¸©å­˜æ¸ˆã¿
- `FolderSidebar.swift` / `ContentPanel.swift` ã® `isReadOnly` ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯æ¸©å­˜æ¸ˆã¿
- å¾©æ´»æ™‚ã¯ `SnippetEditorView.swift` ã®ã¿ä¿®æ­£ã™ã‚Œã°ã‚ˆã„

**å¾©æ´»æ‰‹é †**: ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’ `SnippetEditorView.swift` ã«è¿½åŠ ã™ã‚‹

#### 1. @Stateå¤‰æ•°ï¼ˆæ—¢å­˜ã® isAdmin / userDepartment ã®ä¸‹ã«è¿½åŠ ï¼‰
```swift
@State private var allDepartments: [DepartmentInfo] = []
@State private var selectedOtherDepartment: DepartmentInfo?
@State private var otherDepartmentFolders: [SnippetFolder] = []
@State private var isLoadingOtherDepartment = false
@State private var isViewingOtherDepartment = false
```

#### 2. buildFlatSnippetList â€” isViewingOtherDepartment ã‚¬ãƒ¼ãƒ‰è¿½åŠ 
```swift
// personalFolders ãƒ«ãƒ¼ãƒ—ã®å‰ã«è¿½åŠ 
if !isViewingOtherDepartment {
    // ... personalFolders ãƒ«ãƒ¼ãƒ—
}

// masters ã®å–å¾—ã‚’å·®ã—æ›¿ãˆ
let masters = isViewingOtherDepartment ? otherDepartmentFolders : masterFolders
```

#### 3. sidebarView / contentPanelView ã® isReadOnly ã‚’å·®ã—æ›¿ãˆ
```swift
// sidebarView
isReadOnly: isViewingOtherDepartment,

// contentPanelView
isReadOnly: isViewingOtherDepartment,
onSave: { if !isViewingOtherDepartment { saveData() } },
onAddSnippet: { if !isViewingOtherDepartment { isAddingSnippet = true } },
```

#### 4. currentMasterFolders / currentContentFolders ã®åˆ†å²å¾©æ´»
```swift
private var currentMasterFolders: Binding<[SnippetFolder]> {
    isViewingOtherDepartment ? $otherDepartmentFolders : $masterFolders
}

private var currentContentFolders: Binding<[SnippetFolder]> {
    if isShowingMaster {
        return isViewingOtherDepartment ? $otherDepartmentFolders : $masterFolders
    } else {
        return $personalFolders
    }
}
```

#### 5. editorToolbar ã«ä»–éƒ¨ç½²UIè¿½åŠ ï¼ˆSpacer() ã®ç›´å¾Œï¼‰
```swift
if isViewingOtherDepartment {
    Button(action: closeOtherDepartmentView) {
        HStack(spacing: 4) {
            Text(selectedOtherDepartment?.name ?? "")
            Image(systemName: "xmark.circle.fill")
        }
    }
    .foregroundColor(.orange)
}

// ... åŒæœŸãƒœã‚¿ãƒ³ç­‰ ...

if isAdmin && !isViewingOtherDepartment {
    otherDepartmentMenu
    // ãƒã‚¹ã‚¿æ›´æ–°ãƒœã‚¿ãƒ³
}
```

#### 6. otherDepartmentMenuï¼ˆimportMenu ã®ç›´å‰ã«é…ç½®ï¼‰
```swift
private var otherDepartmentMenu: some View {
    Menu {
        ForEach(allDepartments.filter { $0.name != userDepartment }, id: \.name) { dept in
            Button(dept.name) {
                selectedOtherDepartment = dept
                loadOtherDepartmentSnippets()
            }
        }
    } label: {
        Label("ä»–éƒ¨ç½²ãƒã‚¹ã‚¿", systemImage: "building.2")
    }
}
```

#### 7. loadAdminStatus å†…ã® loadAllDepartments å‘¼ã³å‡ºã—å¾©æ´»
```swift
// isAdmin åˆ¤å®šã®ç›´å¾Œã«è¿½åŠ 
if self.isAdmin {
    self.loadAllDepartments()
}
```

#### 8. 3é–¢æ•°ã‚’è¿½åŠ ï¼ˆsaveData ã®ç›´å‰ï¼‰
```swift
private func loadAllDepartments() {
    GoogleSheetsService.shared.fetchAllDepartments { result in
        switch result {
        case .success(let departments):
            allDepartments = departments
        case .failure(let error):
            print("Failed to load departments: \(error.localizedDescription)")
        }
    }
}

private func loadOtherDepartmentSnippets() {
    guard let dept = selectedOtherDepartment else { return }
    isLoadingOtherDepartment = true
    GoogleDriveService.shared.downloadXMLFile(fileId: dept.fileId) { result in
        DispatchQueue.main.async {
            isLoadingOtherDepartment = false
            switch result {
            case .success(let data):
                let parser = XMLParserHelper()
                otherDepartmentFolders = parser.parse(data: data)
                isShowingMaster = true
                isViewingOtherDepartment = true
                if let firstFolder = otherDepartmentFolders.first {
                    selectedFolderId = firstFolder.id
                    if let firstSnippet = firstFolder.snippets.first {
                        selectedSnippetId = firstSnippet.id
                    }
                }
                alertMessage = "èª­ã¿è¾¼ã¿å®Œäº†: \(otherDepartmentFolders.count)ãƒ•ã‚©ãƒ«ãƒ€"
                showAlert = true
            case .failure(let error):
                alertMessage = "èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸ: \(error.localizedDescription)"
                showAlert = true
            }
        }
    }
}

private func closeOtherDepartmentView() {
    isViewingOtherDepartment = false
    selectedOtherDepartment = nil
    otherDepartmentFolders = []
}
```